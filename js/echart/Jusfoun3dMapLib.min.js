/*!
 * Jusfoun Threejs Chart Library v0.1
 * Powered by Jusfoun Visualization Department
 * Contact: 
 *   vd@jusfoun.com
 *   http://vd.jusfoun.com
 * 
 * Copyright (c) 2017, Jusfoun Big Data Group Inc.
 * All rights reserved.
 * 
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Jusfoun3dMapLib",[],t):"object"==typeof exports?exports.Jusfoun3dMapLib=t():e.Jusfoun3dMapLib=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var n=i(1);t.QualityInspectionApp1=i(2),t.QualityInspectionApp2=i(24),t.ChinaMapWithFlow=t.QualityInspectionApp2,t.webgl=n.Detector.webgl},function(e,t,i){/*!
	 * Jusfoun Threejs Common Library v0.1
	 * Powered by Jusfoun Visualization Department
	 * Contact: 
	 *   vd@jusfoun.com
	 *   http://vd.jusfoun.com
	 * 
	 * Copyright (c) 2017, Jusfoun Big Data Group Inc.
	 * All rights reserved.
	 * 
	 * LICENSE
	 * http://www.jusfoun.com/software/LICENSE.txt
	 */
!function(t,i){e.exports=i()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){i(1),t.CommonLib=i(2),t.InteractiveManager=i(3),t.InteractiveObject3D=i(5),t.RenderableManager=i(6),t.Stage3D=i(7),i(4),i(8),t.$d3g=i(10),t.Detector=i(9),i(11),i(12),i(13)},function(e,t){"undefined"==typeof window.console&&(window.console={info:function(){},warn:function(){},error:function(){},log:function(){}}),"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),o.prototype=new n,o})},function(e,t,i){/*!
		 * Jusfoun Common Library v0.1
		 * Powered by Jusfoun Visualization Department
		 * Contact: 
		 *   vd@jusfoun.com
		 *   http://vd.jusfoun.com
		 * 
		 * Copyright (c) 2017, Jusfoun Big Data Group Inc.
		 * All rights reserved.
		 * 
		 * LICENSE
		 * http://www.jusfoun.com/software/LICENSE.txt
		 */
!function(t,i){e.exports=i()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){t.forge=i(1),t.EventDispatcher=i(2),t.Timer=i(3),t.LayoutManager=i(4),t.UiComponent=i(5)},function(e,t){function i(){if(arguments.length<1)return null;for(var e=Object.create(arguments[0]),t=1;t<arguments.length;t++)n(e,arguments[t]);return e}function n(e,t){if(t&&t!==Object.prototype){var i=Object.getOwnPropertyNames(t);i.forEach(function(i){if("constructor"==i)return!0;var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n)}),n(e,Object.getPrototypeOf(t))}}e.exports=i},function(e,t){function i(e){if(e&&!(e instanceof i))throw new Error("Illegal target.");this._target=e}i.prototype={constructor:i,_target:null,addEventListener:function(e,t,i){var n=this;if(!e||"function"!=typeof t)throw new Error("Illegal parameters.");void 0===n._mapKTypeVListenerTokens&&(n._mapKTypeVListenerTokens={});var o=n._mapKTypeVListenerTokens[e];void 0===o&&(o=[],n._mapKTypeVListenerTokens[e]=o);var r={listener:t,thisArg:i};o.push(r)},removeEventListener:function(e,t){var i=this;if(!e||"function"!=typeof t)throw new Error("Illegal parameters.");if(void 0!==i._mapKTypeVListenerTokens){var n=i._mapKTypeVListenerTokens[e];if(void 0!==n){for(var o=-1,r=null,a=0;a<n.length;a++)if(r=n[a],r.listener===t){o=a;break}o!==-1&&(n.splice(o,1),delete r.listener,delete r.thisArg),n.length<1&&delete i._mapKTypeVListenerTokens[e]}}},removeEventListeners:function(e){var t=this;if(void 0!==t._mapKTypeVListenerTokens)if(void 0===e)for(var i in t._mapKTypeVListenerTokens)t._mapKTypeVListenerTokens.hasOwnProperty(i)&&t.removeEventListeners(i);else{var n=t._mapKTypeVListenerTokens[e];if(void 0===n)return;for(var o=0;o<n.length;o++){var r=n[o];delete r.listener,delete r.thisArg}delete t._mapKTypeVListenerTokens[e]}},hasEventListener:function(e,t){var i=this;if(!e)throw new Error("Illegal parameters.");if(void 0===i._mapKTypeVListenerTokens)return!1;var n=i._mapKTypeVListenerTokens[e];if(void 0===t)return void 0!==n;for(var o=0;o<n.length;o++){var r=n[o];if(r.listener===t)return!0}return!1},dispatchEvent:function(e){var t=this;if(!e||!e.type)throw new Error("Illegal parameter event: "+e);if("function"==typeof Event&&e instanceof Event){console.warn("It recommends to use Object instead of Event class.");var i={};for(var n in e)e[n]instanceof Function||(i[n]=e[n]);e=i}if(void 0!==t._mapKTypeVListenerTokens){var o=t._mapKTypeVListenerTokens[e.type];if(void 0!==o){var r=this._target||t;e.target=r;for(var a=0;a<o.length;a++){var s=o[a];s.listener.call(s.thisArg,e)}}}},on:function(e,t,i){this.addEventListener(e,t,i)},off:function(e){this.removeEventListeners(e)},fire:function(e){this.dispatchEvent(e)}},e.exports=i},function(e,t,i){function n(e,t){r.call(this),this._run=this._run.bind(this),this._setIntervalHandler=this._setIntervalHandler.bind(this),this._requestAnimationFrameHandler=this._requestAnimationFrameHandler.bind(this),this.delay(e),this.repeatCount(t||0)}var o=i(1),r=i(2);n.REQUEST_ANIMATION_FRAME=-4132,n.prototype=o(r.prototype,{constructor:n,_delay:void 0,_repeatCount:0,_currentCount:0,_intervalId:void 0,_setIntervalHandler:function(){this._run()},_requestAnimationFrameFlag:!1,_requestAnimationFrameCount:0,_requestAnimationFrameHandler:function(){1==this._requestAnimationFrameCount&&this._run(),this._requestAnimationFrameCount<1&&this._requestAnimationFrameCount++,this._requestAnimationFrameFlag&&requestAnimationFrame(this._requestAnimationFrameHandler)},_run:function(){return 0!=this._repeatCount&&this._currentCount>=this._repeatCount?(this.stop(),void this.fire({type:"timerComplete"})):(this._currentCount++,void this.fire({type:"timer"}))},delay:function(e){if(0==arguments.length)return this._delay;if(this._delay!=e){if(isNaN(e)||!isFinite(e)||e<=0&&e!=n.REQUEST_ANIMATION_FRAME)throw new Error("Illegal delay value: "+e);return this._delay=e,this.running()&&(this.stop(),this.start()),this}},repeatCount:function(e){if(0==arguments.length)return this._repeatCount;if(this._repeatCount!=e){if(isNaN(e)||!isFinite(e)||e<0)throw new Error("Illegal repeat count value: "+e);return this._repeatCount=e,this}},currentCount:function(){return this._currentCount},running:function(){return"number"==typeof this._intervalId||this._requestAnimationFrameFlag},reset:function(){this.stop(),this._currentCount=0},start:function(){this.running()||(this._delay==n.REQUEST_ANIMATION_FRAME&&"function"==typeof requestAnimationFrame?(this._requestAnimationFrameFlag=!0,requestAnimationFrame(this._requestAnimationFrameHandler)):this._delay>0&&(this._intervalId=setInterval(this._setIntervalHandler,this._delay)))},stop:function(){this.running()&&(clearInterval(this._intervalId),this._intervalId=null,this._requestAnimationFrameFlag=!1,this._requestAnimationFrameCount=0)}}),e.exports=n},function(e,t,i){function n(){Object.call(this),this._timerCompleteHandler=this._timerCompleteHandler.bind(this),this._timer=new o(o.REQUEST_ANIMATION_FRAME,1),this._timer.on("timerComplete",this._timerCompleteHandler,this)}var o=i(3);n.prototype={constructor:n,_initialized:!1,_timer:null,_invalidatePropertiesQueue:[],_invalidatePropertiesFlag:!1,_invalidateSizeQueue:[],_invalidateSizeFlag:!1,_invalidateDisplayListQueue:[],_invalidateDisplayListFlag:!1,_timerCompleteHandler:function(e){this._invalidatePropertiesFlag&&this._validateProperties(),this._invalidateSizeFlag&&this._validateSize(),this._invalidateDisplayListFlag&&this._validateDisplayList()},invalidateProperties:function(e){e&&"function"==typeof e.validateProperties&&(this._invalidatePropertiesQueue.push(e),this._invalidatePropertiesFlag=!0,this._timer.running()||this._timer.start())},invalidateSize:function(e){e&&"function"==typeof e.validateSize&&(this._invalidateSizeQueue.push(e),this._invalidateSizeFlag=!0,this._timer.running()||this._timer.start())},invalidateDisplayList:function(e){e&&"function"==typeof e.validateDisplayList&&(this._invalidateDisplayListQueue.push(e),this._invalidateDisplayListFlag=!0,this._timer.running()||this._timer.start())},validateClient:function(e){if(!e)throw new Error("Target is NULL.");"function"==typeof e.validateProperties&&e.validateProperties(),"function"==typeof e.validateSize&&e.validateSize(),"function"==typeof e.validateDisplayList&&e.validateDisplayList()},_validateProperties:function(){for(;this._invalidatePropertiesQueue.length>0;){var e=this._invalidatePropertiesQueue.pop();e.validateProperties()}this._invalidatePropertiesFlag=!1},_validateSize:function(){for(;this._invalidateSizeQueue.length>0;){var e=this._invalidateSizeQueue.pop();e.validateSize()}this._invalidateSizeFlag=!1},_validateDisplayList:function(){for(;this._invalidateDisplayListQueue.length>0;){var e=this._invalidateDisplayListQueue.pop();e.validateDisplayList()}this._invalidateDisplayListFlag=!1}};var r=new n;n.getInstance=function(){return r},e.exports=n},function(e,t,i){function n(){r.call(this)}var o=i(1),r=i(2),a=i(4);n.prototype=o(r.prototype,{constructor:n,_invalidatePropertiesFlag:!1,_invalidateSizeFlag:!1,_invalidateDisplayListFlag:!1,_x:0,x:function(e){return 0==arguments.length?this._x:void(this._x!=e&&(this._x=e,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()))},_y:0,y:function(e){return 0==arguments.length?this._y:void(this._y!=e&&(this._y=e,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()))},_width:0,width:function(e){return 0==arguments.length?this._width:void(this._width!=e&&(this._width=e,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()))},_height:0,height:function(e){return 0==arguments.length?this._height:void(this._height!=e&&(this._height=e,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()))},initialize:function(){},invalidateProperties:function(){this._invalidatePropertiesFlag||(this._invalidatePropertiesFlag=!0,a.getInstance().invalidateProperties(this))},invalidateSize:function(){this._invalidateSizeFlag||(this._invalidateSizeFlag=!0,a.getInstance().invalidateSize(this))},invalidateDisplayList:function(){this._invalidateDisplayListFlag||(this._invalidateDisplayListFlag=!0,a.getInstance().invalidateDisplayList(this))},validateNow:function(){a.getInstance().validateClient(this)},validateProperties:function(){this._invalidatePropertiesFlag&&(this.commitProperties(),this._invalidatePropertiesFlag=!1)},validateSize:function(){this._invalidateSizeFlag&&(this.measure(),this._invalidateSizeFlag=!1)},validateDisplayList:function(){this._invalidateDisplayListFlag&&(this.updateDisplayList(),this._invalidateDisplayListFlag=!1)},commitProperties:function(){},measure:function(){},updateDisplayList:function(){},setStyle:function(){}}),e.exports=n}])})},function(e,t,i){function n(){this._objects={},this._objectList=[],this._numObjects=0,this._octree=new THREE.Octree({undeferred:!1,depthMax:1/0,objectsThreshold:8,overlapPct:.15}),this._mouse={},this._raycaster=new THREE.Raycaster,this._domElementMouseMoveHandler=this._domElementMouseMoveHandler.bind(this),this._domElementClickHandler=this._domElementClickHandler.bind(this),this._domElementDoubleClickHandler=this._domElementDoubleClickHandler.bind(this)}i(4),n.prototype={constructor:n,_objects:null,_objectList:null,_numObjects:0,_octree:null,_mouse:null,_object:null,_faceIndex:null,_index:null,_raycaster:null,get raycaster(){return this._raycaster},set raycaster(e){this._raycaster=e},_stage3d:null,get stage3d(){return this._stage3d},set stage3d(e){this._stage3d!=e&&(this._stage3d&&(this._stage3d.domElement.removeEventListener("mousemove",this._domElementMouseMoveHandler),this._stage3d.domElement.removeEventListener("click",this._domElementClickHandler),this._stage3d.domElement.removeEventListener("dblclick",this._domElementDoubleClickHandler),this._stage3d=null),this._stage3d=e,this._stage3d&&(this._stage3d.domElement.addEventListener("mousemove",this._domElementMouseMoveHandler),this._stage3d.domElement.addEventListener("click",this._domElementClickHandler),this._stage3d.domElement.addEventListener("dblclick",this._domElementDoubleClickHandler)))},_useOctree:!1,get useOctree(){return this._useOctree},set useOctree(e){this._useOctree=e},get stageX(){return this._mouse.stageX},get stageY(){return this._mouse.stageY},_getObjectId:function(e){return e.id+":"+e.uuid},_domElementMouseMoveHandler:function(e){e.preventDefault(),this._mouse.x=e.offsetX/this._stage3d.width()*2-1,this._mouse.y=2*-(e.offsetY/this._stage3d.height())+1,this._mouse.stageX=e.pageX,this._mouse.stageY=e.pageY,this._mouse.event=e,this.pick(e)},_domElementClickHandler:function(e){this.pick(e)},_domElementDoubleClickHandler:function(e){this.pick(e)},add:function(e,t){var i=this._getObjectId(e);this.contains(i)||(this._objects[i]=e,this._useOctree?this._octree.add(e,{useFaces:t}):this._objectList.push(e),this._numObjects++)},remove:function(e){var t=this._getObjectId(e);if(this.contains(t)){delete this._objects[t];var i=this._objectList.indexOf(e);i!=-1&&this._objectList.splice(i,1),this._octree.remove(e),this._numObjects--}},contains:function(e){return e instanceof THREE.Object3D&&(e=this._getObjectId(e)),"undefined"!=typeof this._objects[e]},update:function(){this._useOctree&&this._octree.update()},pick:function(e){if(!this._raycaster||!this._stage3d||this._numObjects<1)return null;if(this._raycaster.setFromCamera(this._mouse,this._stage3d.camera),this._useOctree)var t=this._octree.search(this._raycaster.ray.origin,this._raycaster.ray.far,!0,this._raycaster.ray.direction),i=this._raycaster.intersectOctreeObjects(t);else i=this._raycaster.intersectObjects(this._objectList);if(i.length>0){this._useOctree&&i.sort(function(e,t){return e.distance>t.distance?1:-1});var n=i[0];e&&(e.face=n.face,e.index=n.index,e.faceIndex=n.faceIndex),this._object!=n.object?(this._object&&"function"==typeof this._object.mouseOut&&this._object.mouseOut(e),this._object=n.object,"function"==typeof this._object.mouseOver&&this._object.mouseOver(e)):this._object.useFaces&&this._index!=n.index&&(this._index=n.index,"function"==typeof this._object.mouseOver&&this._object.mouseOver(e)),e&&("click"==e.type&&"function"==typeof this._object.click?this._object.click(e):"dblclick"==e.type&&"function"==typeof this._object.doubleClick&&this._object.doubleClick(e)),this._stage3d.domElement.style.cursor="pointer"}else this._object&&"function"==typeof this._object.mouseOut&&this._object.mouseOut(e),this._object=null,this._faceIndex=null,this._stage3d.domElement.style.cursor="default";return i}},e.exports=n},function(e,t){/*!
		 *
		 * threeoctree.js (r60) / https://github.com/collinhover/threeoctree
		 * (sparse) dynamic 3D spatial representation structure for fast searches.
		 *
		 * @author Collin Hover / http://collinhover.com/
		 * based on Dynamic Octree by Piko3D @ http://www.piko3d.com/ and Octree by Marek Pawlowski @ pawlowski.it
		 *
		 */
!function(e){"use strict";function t(e){return!isNaN(e)&&isFinite(e)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return e?i(e)!==!0?[e]:e:[]}function o(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function r(e,t,i){for(var n=0,o=e.length;n<o;n++)if(e[n][t]===i)return n;return-1}e.Octree=function(i){i=i||{},i.tree=this,this.nodeCount=0,this.INDEX_INSIDE_CROSS=-1,this.INDEX_OUTSIDE_OFFSET=2,this.INDEX_OUTSIDE_POS_X=t(i.INDEX_OUTSIDE_POS_X)?i.INDEX_OUTSIDE_POS_X:0,this.INDEX_OUTSIDE_NEG_X=t(i.INDEX_OUTSIDE_NEG_X)?i.INDEX_OUTSIDE_NEG_X:1,this.INDEX_OUTSIDE_POS_Y=t(i.INDEX_OUTSIDE_POS_Y)?i.INDEX_OUTSIDE_POS_Y:2,this.INDEX_OUTSIDE_NEG_Y=t(i.INDEX_OUTSIDE_NEG_Y)?i.INDEX_OUTSIDE_NEG_Y:3,this.INDEX_OUTSIDE_POS_Z=t(i.INDEX_OUTSIDE_POS_Z)?i.INDEX_OUTSIDE_POS_Z:4,this.INDEX_OUTSIDE_NEG_Z=t(i.INDEX_OUTSIDE_NEG_Z)?i.INDEX_OUTSIDE_NEG_Z:5,this.INDEX_OUTSIDE_MAP=[],this.INDEX_OUTSIDE_MAP[this.INDEX_OUTSIDE_POS_X]={index:this.INDEX_OUTSIDE_POS_X,count:0,x:1,y:0,z:0},this.INDEX_OUTSIDE_MAP[this.INDEX_OUTSIDE_NEG_X]={index:this.INDEX_OUTSIDE_NEG_X,count:0,x:-1,y:0,z:0},this.INDEX_OUTSIDE_MAP[this.INDEX_OUTSIDE_POS_Y]={index:this.INDEX_OUTSIDE_POS_Y,count:0,x:0,y:1,z:0},this.INDEX_OUTSIDE_MAP[this.INDEX_OUTSIDE_NEG_Y]={index:this.INDEX_OUTSIDE_NEG_Y,count:0,x:0,y:-1,z:0},this.INDEX_OUTSIDE_MAP[this.INDEX_OUTSIDE_POS_Z]={index:this.INDEX_OUTSIDE_POS_Z,count:0,x:0,y:0,z:1},this.INDEX_OUTSIDE_MAP[this.INDEX_OUTSIDE_NEG_Z]={index:this.INDEX_OUTSIDE_NEG_Z,count:0,x:0,y:0,z:-1},this.FLAG_POS_X=1<<this.INDEX_OUTSIDE_POS_X+1,this.FLAG_NEG_X=1<<this.INDEX_OUTSIDE_NEG_X+1,this.FLAG_POS_Y=1<<this.INDEX_OUTSIDE_POS_Y+1,this.FLAG_NEG_Y=1<<this.INDEX_OUTSIDE_NEG_Y+1,this.FLAG_POS_Z=1<<this.INDEX_OUTSIDE_POS_Z+1,this.FLAG_NEG_Z=1<<this.INDEX_OUTSIDE_NEG_Z+1,this.utilVec31Search=new e.Vector3,this.utilVec32Search=new e.Vector3,this.scene=i.scene,this.scene&&(this.visualGeometry=new e.BoxGeometry(1,1,1),this.visualMaterial=new e.MeshBasicMaterial({color:16711782,wireframe:!0,wireframeLinewidth:1})),this.objects=[],this.objectsMap={},this.objectsData=[],this.objectsDeferred=[],this.depthMax=t(i.depthMax)?i.depthMax:1/0,this.objectsThreshold=t(i.objectsThreshold)?i.objectsThreshold:8,this.overlapPct=t(i.overlapPct)?i.overlapPct:.15,this.undeferred=i.undeferred||!1,this.root=i.root instanceof e.OctreeNode?i.root:new e.OctreeNode(i)},e.Octree.prototype={update:function(){if(this.objectsDeferred.length>0){for(var e=0,t=this.objectsDeferred.length;e<t;e++){var i=this.objectsDeferred[e];this.addDeferred(i.object,i.options)}this.objectsDeferred.length=0}},add:function(e,t){this.undeferred?(this.updateObject(e),this.addDeferred(e,t)):this.objectsDeferred.push({object:e,options:t})},addDeferred:function(t,i){var n,o,r,a,s,c,u;if(t instanceof e.OctreeObjectData&&(t=t.object),t.uuid||(t.uuid=e.Math.generateUUID()),!this.objectsMap[t.uuid])if(this.objects.push(t),this.objectsMap[t.uuid]=t,i&&(s=i.useFaces,u=i.useVertices),u===!0)for(r=t.geometry,c=r.vertices,n=0,o=c.length;n<o;n++)this.addObjectData(t,c[n]);else if(s===!0)for(r=t.geometry,a=r.faces,n=0,o=a.length;n<o;n++)this.addObjectData(t,a[n]);else this.addObjectData(t)},addObjectData:function(t,i){var n=new e.OctreeObjectData(t,i);this.objectsData.push(n),this.root.addObject(n)},remove:function(t){var i,n,a,s,c=t;if(t instanceof e.OctreeObjectData&&(t=t.object),this.objectsMap[t.uuid]){if(this.objectsMap[t.uuid]=void 0,a=o(this.objects,t),a!==-1)for(this.objects.splice(a,1),s=this.root.removeObject(c),i=0,n=s.length;i<n;i++)c=s[i],a=o(this.objectsData,c),a!==-1&&this.objectsData.splice(a,1)}else this.objectsDeferred.length>0&&(a=r(this.objectsDeferred,"object",t),a!==-1&&this.objectsDeferred.splice(a,1))},extend:function(t){var i,n,o,r;if(t instanceof e.Octree)for(o=t.objectsData,i=0,n=o.length;i<n;i++)r=o[i],this.add(r,{useFaces:r.faces,useVertices:r.vertices})},rebuild:function(){var t,i,n,o,r,a,s=[];for(t=0,i=this.objectsData.length;t<i;t++)o=this.objectsData[t],n=o.node,o.update(),n instanceof e.OctreeNode&&!o.positionLast.equals(o.position)&&(a=o.indexOctant,r=n.getOctantIndex(o),r!==a&&s.push(o));for(t=0,i=s.length;t<i;t++)o=s[t],o.node.removeObject(o),this.root.addObject(o)},updateObject:function(e){var t,i,n,o,r=[e];for(n=e.parent;n;)r.push(n),n=n.parent;for(t=0,i=r.length;t<i;t++)n=r[t],n.matrixWorldNeedsUpdate===!0&&(o=n);"undefined"!=typeof o&&o.updateMatrixWorld()},search:function(t,i,n,r){var a,s,c,u,h,l,d,p,f,m,_;for(u=[].concat(this.root.objects),i>0||(i=Number.MAX_VALUE),r instanceof e.Vector3&&(r=this.utilVec31Search.copy(r).normalize(),_=this.utilVec32Search.set(1,1,1).divide(r)),a=0,s=this.root.nodesIndices.length;a<s;a++)c=this.root.nodesByIndex[this.root.nodesIndices[a]],u=c.search(t,i,u,r,_);if(n===!0)for(d=[],f=[],a=0,s=u.length;a<s;a++)h=u[a],l=h.object,m=o(f,l),m===-1?(p={object:l,faces:[],vertices:[]},d.push(p),f.push(l)):p=d[m],h.faces?p.faces.push(h.faces):h.vertices&&p.vertices.push(h.vertices);else d=u;return d},setRoot:function(t){t instanceof e.OctreeNode&&(this.root=t,this.root.updateProperties())},getDepthEnd:function(){return this.root.getDepthEnd()},getNodeCountEnd:function(){return this.root.getNodeCountEnd()},getObjectCountEnd:function(){return this.root.getObjectCountEnd()},toConsole:function(){this.root.toConsole()}},e.OctreeObjectData=function(t,i){this.object=t,i instanceof e.Face3?(this.faces=i,this.face3=!0,this.utilVec31FaceBounds=new e.Vector3):i instanceof e.Vector3&&(this.vertices=i),this.radius=0,this.position=new e.Vector3,this.object instanceof e.Object3D&&this.update(),this.positionLast=this.position.clone()},e.OctreeObjectData.prototype={update:function(){this.face3?(this.radius=this.getFace3BoundingRadius(this.object,this.faces),this.position.copy(this.faces.centroid).applyMatrix4(this.object.matrixWorld)):this.vertices?(this.radius=this.object.material.size||1,this.position.copy(this.vertices).applyMatrix4(this.object.matrixWorld)):this.object.geometry?(null===this.object.geometry.boundingSphere&&this.object.geometry.computeBoundingSphere(),this.radius=this.object.geometry.boundingSphere.radius,this.position.copy(this.object.geometry.boundingSphere.center).applyMatrix4(this.object.matrixWorld)):(this.radius=this.object.boundRadius,this.position.setFromMatrixPosition(this.object.matrixWorld)),this.radius=this.radius*Math.max(this.object.scale.x,this.object.scale.y,this.object.scale.z)},getFace3BoundingRadius:function(t,i){void 0===i.centroid&&(i.centroid=new e.Vector3);var n,o=t.geometry||t,r=o.vertices,a=i.centroid,s=r[i.a],c=r[i.b],u=r[i.c],h=this.utilVec31FaceBounds;return a.addVectors(s,c).add(u).divideScalar(3),n=Math.max(h.subVectors(a,s).length(),h.subVectors(a,c).length(),h.subVectors(a,u).length())}},e.OctreeNode=function(t){this.utilVec31Branch=new e.Vector3,this.utilVec31Expand=new e.Vector3,this.utilVec31Ray=new e.Vector3,t=t||{},t.tree instanceof e.Octree?this.tree=t.tree:t.parent instanceof e.OctreeNode!=1&&(t.root=this,this.tree=new e.Octree(t)),this.id=this.tree.nodeCount++,this.position=t.position instanceof e.Vector3?t.position:new e.Vector3,this.radius=t.radius>0?t.radius:1,this.indexOctant=t.indexOctant,this.depth=0,this.reset(),this.setParent(t.parent),this.overlap=this.radius*this.tree.overlapPct,this.radiusOverlap=this.radius+this.overlap,this.left=this.position.x-this.radiusOverlap,this.right=this.position.x+this.radiusOverlap,this.bottom=this.position.y-this.radiusOverlap,this.top=this.position.y+this.radiusOverlap,this.back=this.position.z-this.radiusOverlap,this.front=this.position.z+this.radiusOverlap,this.tree.scene&&(this.visual=new e.Mesh(this.tree.visualGeometry,this.tree.visualMaterial),this.visual.scale.set(2*this.radiusOverlap,2*this.radiusOverlap,2*this.radiusOverlap),this.visual.position.copy(this.position),this.tree.scene.add(this.visual))},e.OctreeNode.prototype={setParent:function(e){e!==this&&this.parent!==e&&(this.parent=e,this.updateProperties())},updateProperties:function(){var t,i;for(this.parent instanceof e.OctreeNode?(this.tree=this.parent.tree,this.depth=this.parent.depth+1):this.depth=0,t=0,i=this.nodesIndices.length;t<i;t++)this.nodesByIndex[this.nodesIndices[t]].updateProperties()},reset:function(e,t){var i,n,o,r=this.nodesIndices||[],a=this.nodesByIndex;for(this.objects=[],this.nodesIndices=[],this.nodesByIndex={},i=0,n=r.length;i<n;i++)o=a[r[i]],o.setParent(void 0),e===!0&&o.reset(e,t);t===!0&&this.visual&&this.visual.parent&&this.visual.parent.remove(this.visual)},addNode:function(e,t){e.indexOctant=t,o(this.nodesIndices,t)===-1&&this.nodesIndices.push(t),this.nodesByIndex[t]=e,e.parent!==this&&e.setParent(this)},removeNode:function(e){var t,i;t=o(this.nodesIndices,e),this.nodesIndices.splice(t,1),i=i||this.nodesByIndex[e],delete this.nodesByIndex[e],i.parent===this&&i.setParent(void 0)},addObject:function(t){var i,n,r;n=this.getOctantIndex(t),n>-1&&this.nodesIndices.length>0?(r=this.branch(n),r.addObject(t)):n<-1&&this.parent instanceof e.OctreeNode?this.parent.addObject(t):(i=o(this.objects,t),i===-1&&this.objects.push(t),t.node=this,this.checkGrow())},addObjectWithoutCheck:function(e){var t,i,n;for(t=0,i=e.length;t<i;t++)n=e[t],this.objects.push(n),n.node=this},removeObject:function(e){var t,i,n,o;if(o=this.removeObjectRecursive(e,{searchComplete:!1,nodesRemovedFrom:[],objectsDataRemoved:[]}),n=o.nodesRemovedFrom,n.length>0)for(t=0,i=n.length;t<i;t++)n[t].shrink();return o.objectsDataRemoved},removeObjectRecursive:function(t,i){var n,r,a,s,c,u=-1;if(t instanceof e.OctreeObjectData)u=o(this.objects,t),u!==-1&&(this.objects.splice(u,1),t.node=void 0,i.objectsDataRemoved.push(t),i.searchComplete=c=!0);else for(n=this.objects.length-1;n>=0;n--)if(a=this.objects[n],a.object===t&&(this.objects.splice(n,1),a.node=void 0,i.objectsDataRemoved.push(a),c=!0,!a.faces&&!a.vertices)){i.searchComplete=!0;break}if(c===!0&&i.nodesRemovedFrom.push(this),i.searchComplete!==!0)for(n=0,r=this.nodesIndices.length;n<r&&(s=this.nodesByIndex[this.nodesIndices[n]],i=s.removeObjectRecursive(t,i),i.searchComplete!==!0);n++);return i},checkGrow:function(){this.objects.length>this.tree.objectsThreshold&&this.tree.objectsThreshold>0&&this.grow()},grow:function(){var e,t,i,n,o=[],r=[],a=[],s=[],c=[];for(i=0,n=this.objects.length;i<n;i++)t=this.objects[i],e=this.getOctantIndex(t),e>-1?(a.push(t),s.push(e)):e<-1?(o.push(t),r.push(e)):c.push(t);a.length>0&&(c=c.concat(this.split(a,s))),o.length>0&&(c=c.concat(this.expand(o,r))),this.objects=c,this.checkMerge()},split:function(e,t){var i,n,o,r,a,s;if(this.depth<this.tree.depthMax){for(e=e||this.objects,t=t||[],s=[],i=0,n=e.length;i<n;i++)r=e[i],o=t[i],o>-1?(a=this.branch(o),a.addObject(r)):s.push(r);e===this.objects&&(this.objects=s)}else s=this.objects;return s},branch:function(t){var i,n,o,r,a,s;return this.nodesByIndex[t]instanceof e.OctreeNode?i=this.nodesByIndex[t]:(o=.5*this.radiusOverlap,n=o*this.tree.overlapPct,r=o-n,a=this.utilVec31Branch.set(1&t?r:-r,2&t?r:-r,4&t?r:-r),s=(new e.Vector3).addVectors(this.position,a),i=new e.OctreeNode({tree:this.tree,parent:this,position:s,radius:o,indexOctant:t}),this.addNode(i,t)),i},expand:function(t,i){var n,o,r,a,s,c,u,h,l,d,p,f,m,_,g,v,b,E,y,O,x,j,w,T,I,D,S,C,M,R=this.tree.INDEX_OUTSIDE_MAP,F=this.utilVec31Expand;if(this.tree.root.getDepthEnd()<this.tree.depthMax){for(t=t||this.objects,i=i||[],a=[],s=[],n=0,o=R.length;n<o;n++)R[n].count=0;for(n=0,o=t.length;n<o;n++)r=t[n],c=i[n],c<-1?(u=-c-this.tree.INDEX_OUTSIDE_OFFSET,u&this.tree.FLAG_POS_X?R[this.tree.INDEX_OUTSIDE_POS_X].count++:u&this.tree.FLAG_NEG_X&&R[this.tree.INDEX_OUTSIDE_NEG_X].count++,u&this.tree.FLAG_POS_Y?R[this.tree.INDEX_OUTSIDE_POS_Y].count++:u&this.tree.FLAG_NEG_Y&&R[this.tree.INDEX_OUTSIDE_NEG_Y].count++,u&this.tree.FLAG_POS_Z?R[this.tree.INDEX_OUTSIDE_POS_Z].count++:u&this.tree.FLAG_NEG_Z&&R[this.tree.INDEX_OUTSIDE_NEG_Z].count++,s.push(r)):a.push(r);if(s.length>0)for(l=R.slice(0),l.sort(function(e,t){return t.count-e.count}),d=l[0],m=1|d.index,g=l[1],v=l[2],p=(1|g.index)!==m?g:v,_=1|p.index,g=l[2],v=l[3],b=l[4],E=1|g.index,y=1|v.index,f=E!==m&&E!==_?g:y!==m&&y!==_?v:b,O=d.x+p.x+f.x,x=d.y+p.y+f.y,j=d.z+p.z+f.z,c=this.getOctantIndexFromPosition(O,x,j),h=this.getOctantIndexFromPosition(-O,-x,-j),w=this.overlap,T=this.radius,D=this.tree.overlapPct>0?w/(.5*this.tree.overlapPct*(1+this.tree.overlapPct)):2*T,S=D*this.tree.overlapPct,I=D+S-(T+w),F.set(1&c?I:-I,2&c?I:-I,4&c?I:-I),C=(new e.Vector3).addVectors(this.position,F),M=new e.OctreeNode({tree:this.tree,position:C,radius:D}),M.addNode(this,h),this.tree.setRoot(M),n=0,o=s.length;n<o;n++)this.tree.root.addObject(s[n]);t===this.objects&&(this.objects=a)}else a=t;return a},shrink:function(){this.checkMerge(),this.tree.root.checkContract()},checkMerge:function(){for(var t,i=this;i.parent instanceof e.OctreeNode&&i.getObjectCountEnd()<this.tree.objectsThreshold;)t=i,i=i.parent;i!==this&&i.merge(t)},merge:function(e){var t,i,o;for(e=n(e),t=0,i=e.length;t<i;t++)o=e[t],this.addObjectWithoutCheck(o.getObjectsEnd()),o.reset(!0,!0),this.removeNode(o.indexOctant,o);this.checkMerge()},checkContract:function(){var t,i,n,o,r,a,s;if(this.nodesIndices.length>0){for(a=0,s=this.objects.length,t=0,i=this.nodesIndices.length;t<i;t++)n=this.nodesByIndex[this.nodesIndices[t]],o=n.getObjectCountEnd(),s+=o,(r instanceof e.OctreeNode==0||o>a)&&(r=n,a=o);s-=a,s<this.tree.objectsThreshold&&r instanceof e.OctreeNode&&this.contract(r)}},contract:function(e){var t,i,n;for(t=0,i=this.nodesIndices.length;t<i;t++)n=this.nodesByIndex[this.nodesIndices[t]],n!==e&&(e.addObjectWithoutCheck(n.getObjectsEnd()),n.reset(!0,!0));e.addObjectWithoutCheck(this.objects),this.reset(!1,!0),this.tree.setRoot(e),e.checkContract()},getOctantIndex:function(t){var i,n,o,r,a,s,c,u,h,l=this.position,d=this.radiusOverlap,p=this.overlap,f=0;if(t instanceof e.OctreeObjectData?(n=t.radius,i=t.position,t.positionLast.copy(i)):t instanceof e.OctreeNode&&(i=t.position,n=0),o=i.x-l.x,r=i.y-l.y,a=i.z-l.z,s=Math.abs(o),c=Math.abs(r),u=Math.abs(a),h=Math.max(s,c,u),h+n>d)return s+n>d&&(f^=o>0?this.tree.FLAG_POS_X:this.tree.FLAG_NEG_X),c+n>d&&(f^=r>0?this.tree.FLAG_POS_Y:this.tree.FLAG_NEG_Y),u+n>d&&(f^=a>0?this.tree.FLAG_POS_Z:this.tree.FLAG_NEG_Z),t.indexOctant=-f-this.tree.INDEX_OUTSIDE_OFFSET,t.indexOctant;if(o-n>-p)f|=1;else if(!(o+n<p))return t.indexOctant=this.tree.INDEX_INSIDE_CROSS,t.indexOctant;if(r-n>-p)f|=2;else if(!(r+n<p))return t.indexOctant=this.tree.INDEX_INSIDE_CROSS,t.indexOctant;if(a-n>-p)f|=4;else if(!(a+n<p))return t.indexOctant=this.tree.INDEX_INSIDE_CROSS,t.indexOctant;return t.indexOctant=f,t.indexOctant},getOctantIndexFromPosition:function(e,t,i){var n=0;return e>0&&(n|=1),t>0&&(n|=2),i>0&&(n|=4),n},search:function(e,t,i,n,o){var r,a,s,c;if(c=n?this.intersectRay(e,n,t,o):this.intersectSphere(e,t),c===!0)for(i=i.concat(this.objects),r=0,a=this.nodesIndices.length;r<a;r++)s=this.nodesByIndex[this.nodesIndices[r]],i=s.search(e,t,i,n);return i},intersectSphere:function(e,t){var i=t*t,n=e.x,o=e.y,r=e.z;return n<this.left?i-=Math.pow(n-this.left,2):n>this.right&&(i-=Math.pow(n-this.right,2)),o<this.bottom?i-=Math.pow(o-this.bottom,2):o>this.top&&(i-=Math.pow(o-this.top,2)),r<this.back?i-=Math.pow(r-this.back,2):r>this.front&&(i-=Math.pow(r-this.front,2)),i>=0},intersectRay:function(e,t,i,n){"undefined"==typeof n&&(n=this.utilVec31Ray.set(1,1,1).divide(t));var o,r=(this.left-e.x)*n.x,a=(this.right-e.x)*n.x,s=(this.bottom-e.y)*n.y,c=(this.top-e.y)*n.y,u=(this.back-e.z)*n.z,h=(this.front-e.z)*n.z,l=Math.min(Math.min(Math.max(r,a),Math.max(s,c)),Math.max(u,h));return!(l<0||(o=Math.max(Math.max(Math.min(r,a),Math.min(s,c)),Math.min(u,h)),o>l||o>i))},getDepthEnd:function(e){var t,i,n;if(this.nodesIndices.length>0)for(t=0,i=this.nodesIndices.length;t<i;t++)n=this.nodesByIndex[this.nodesIndices[t]],e=n.getDepthEnd(e);else e=!e||this.depth>e?this.depth:e;return e},getNodeCountEnd:function(){return this.tree.root.getNodeCountRecursive()+1},getNodeCountRecursive:function(){var e,t,i=this.nodesIndices.length;for(e=0,t=this.nodesIndices.length;e<t;e++)i+=this.nodesByIndex[this.nodesIndices[e]].getNodeCountRecursive();return i},getObjectsEnd:function(e){var t,i,n;for(e=(e||[]).concat(this.objects),t=0,i=this.nodesIndices.length;t<i;t++)n=this.nodesByIndex[this.nodesIndices[t]],e=n.getObjectsEnd(e);return e},getObjectCountEnd:function(){var e,t,i=this.objects.length;for(e=0,t=this.nodesIndices.length;e<t;e++)i+=this.nodesByIndex[this.nodesIndices[e]].getObjectCountEnd();return i},getObjectCountStart:function(){for(var t=this.objects.length,i=this.parent;i instanceof e.OctreeNode;)t+=i.objects.length,i=i.parent;return t},toConsole:function(e){var t,i,n,o="   ";for(e="string"==typeof e?e:o,console.log(this.parent?e+" octree NODE > ":" octree ROOT > ",this," // id: ",this.id," // indexOctant: ",this.indexOctant," // position: ",this.position.x,this.position.y,this.position.z," // radius: ",this.radius," // depth: ",this.depth),console.log(this.parent?e+" ":" ","+ objects ( ",this.objects.length," ) ",this.objects),console.log(this.parent?e+" ":" ","+ children ( ",this.nodesIndices.length," )",this.nodesIndices,this.nodesByIndex),t=0,i=this.nodesIndices.length;t<i;t++)n=this.nodesByIndex[this.nodesIndices[t]],n.toConsole(e+o)}},e.Raycaster.prototype.intersectOctreeObject=function(t,i){var n,o,r,a;if(t.object instanceof e.Object3D){o=t,t=o.object;var s="undefined"!=typeof t.geometry;a=o.faces,s&&(r=t.geometry.faces),a.length>0&&s&&(t.geometry.faces=a),n=this.intersectObject(t,i),a.length>0&&s&&(t.geometry.faces=r)}else n=this.intersectObject(t,i);return n},e.Raycaster.prototype.intersectOctreeObjects=function(e,t){var i,n,o=[];for(i=0,n=e.length;i<n;i++)o=o.concat(this.intersectOctreeObject(e[i],t));return o}}(THREE)},function(e,t){function i(){}i.prototype={constructor:i,_stage3d:null,get stage3d(){return this._stage3d},_interactive:!1,get interactive(){return this._interactive},set interactive(e){this._interactive=e,this._stage3d&&(this._interactive?this._stage3d.interactiveManager.add(this,this.useFaces):this._stage3d.interactiveManager.remove(this))},_useFaces:!1,get useFaces(){return this._useFaces},set useFaces(e){this._useFaces=e},_renderable:!1,get renderable(){return this._renderable},set renderable(e){this._renderable=e,this._stage3d&&(this._renderable?this._stage3d.renderableManager.add(this):this._stage3d.renderableManager.remove(this))},addObject:function(e){e&&(e._stage3d=this._stage3d,"function"==typeof e._addedToStage&&e._addedToStage(),this.add(e))},removeObject:function(e){e&&(this.remove(e),"function"==typeof e._removedFromStage&&e._removedFromStage(),e._stage3d=null)},_addedToStage:function(){var e=this;this._stage3d&&(this.interactive&&this._stage3d.interactiveManager.add(this,this.useFaces),this.renderable&&this._stage3d.renderableManager.add(this),this.children instanceof Array&&this.children.forEach(function(t){t._stage3d=e._stage3d,"function"==typeof t._addedToStage&&t._addedToStage()}))},_removedFromStage:function(){this._stage3d&&(this._stage3d.interactiveManager.remove(this),this._stage3d.renderableManager.remove(this),this.children instanceof Array&&this.children.forEach(function(e){"function"==typeof e._removedFromStage&&e._removedFromStage(),e._stage3d=null}))}},e.exports=i},function(e,t){function i(){this._objects={}}i.prototype={constructor:i,_objects:null,_getObjectId:function(e){return e.id+":"+e.uuid},update:function(){for(var e in this._objects){var t=this._objects[e];t&&"function"==typeof t.render&&t.render()}},add:function(e){var t=this._getObjectId(e);this.contains(t)||(this._objects[t]=e)},remove:function(e){var t=this._getObjectId(e);this.contains(t)&&delete this._objects[t]},contains:function(e){return e instanceof THREE.Object3D&&(e=this._getObjectId(e)),"undefined"!=typeof this._objects[e]}},e.exports=i},function(e,t,i){function n(){this._scene=new THREE.Scene,this._camera=new THREE.PerspectiveCamera(75,this._width/this._height,1,1e4),this._renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),"number"==typeof window.devicePixelRatio&&this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.setClearColor(0,0),this._renderer.setSize(this._width,this._height),this._interactiveManager=new s,this._interactiveManager.stage3d=this,this._renderableManager=new c}var o=i(2),r=o.forge,a=o.UiComponent,s=i(3),c=i(6);n.prototype=r(a.prototype,{constructor:n,_captureExecutor:null,_scene:null,get scene(){return this._scene},set scene(e){this._scene=e},_camera:null,get camera(){return this._camera},set camera(e){this._camera=e},_renderer:null,get renderer(){return this._renderer},set renderer(e){this._renderer=e},_interactiveManager:null,get interactiveManager(){return this._interactiveManager},set interactiveManager(e){this._interactiveManager=e},_renderableManager:null,get renderableManager(){return this._renderableManager},set renderableManager(e){this._renderableManager=e},get domElement(){return this._renderer?this._renderer.domElement:null},get stageX(){return this._interactiveManager?this._interactiveManager.stageX:0},get stageY(){return this._interactiveManager?this._interactiveManager.stageY:0},resize:function(e,t){if(this.domElement&&this.domElement.parentElement){var i=this.domElement.parentElement;e=e||i.clientWidth,t=t||i.clientHeight}this.width(e),this.height(t)},updateDisplayList:function(){this._camera instanceof THREE.PerspectiveCamera?this._camera.aspect=this._width/this._height:this._camera instanceof THREE.OrthographicCamera&&(this._camera.left=this._width/-2,this._camera.right=this._width/2,this._camera.top=this._height/2,this._camera.bottom=this._height/-2),this._camera.updateProjectionMatrix(),this._renderer.setSize(this._width,this._height)},capture:function(e,t){if("function"==typeof e){var i=this;this._captureExecutor=function(){e(i.domElement.toDataURL(t||"image/png")),i._captureExecutor=null}}},render:function(){this._renderableManager.update(),this._renderer.render(this._scene,this._camera),"function"==typeof this._captureExecutor&&this._captureExecutor(),this._interactiveManager.update()},addObject:function(e){e._stage3d=this,"function"==typeof e._addedToStage&&e._addedToStage(),this.scene.add(e)},removeObject:function(e){this.scene.remove(e),"function"==typeof e._removedFromStage&&e._removedFromStage(),e._stage3d=null}}),e.exports=n},function(e,t,i){var n=i(9);n.webgl?console.log(["Jusfoun 3D Engine Library v0.1","Jusfoun Visualization Department "+(new Date).getFullYear(),"http://www.jusfoun.com"].join("\n")):console.error("This platform does NOT support WebGL."),t.webgl=n.webgl},function(e,t,i){var n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,i,o;e=e||{},t=void 0!==e.parent?e.parent:document.body,i=void 0!==e.id?e.id:"oldie",o=n.getWebGLErrorMessage(),o.id=i,t.appendChild(o)}};e.exports=n},function(e,t,i){function n(e){const t=Math.PI/180,i=48,n=57,o=44,r=32,a=46,s=45;e.transformSVGPath=function(e){function c(){for(var t,c,u,h=!1;m<_&&(c=e.charCodeAt(m),c===o||c===r);)m++;for(t=c===s?m++:m;m<_;)if(c=e.charCodeAt(m),i<=c&&c<=n)m++;else{if(c!==a)return u=e.substring(t,m),h?parseFloat(u):parseInt(u);m++,h=!0}return u=e.substring(t),h?parseFloat(u):parseInt(u)}function u(){for(var t;m<_&&(t=e.charCodeAt(m),t===o||t===r);)m++;return t=e.charCodeAt(m),t===s||i<=t&&t<=n}var h,l,d,p,f=new THREE.Shape,m=1,_=e.length,g=0,v=0,b=0,E=0,y=null,O=null,x=0,j=0,w=0,T=0,I=0,D=0,S=0,C=0,M=0;for(h=e[0];m<=_;){switch(p=!0,h){case"M":g=c(),v=c(),f.moveTo(g,v),h="L",y=g,O=v;break;case"m":g+=c(),v+=c(),f.moveTo(g,v),h="l",y=g,O=v;break;case"Z":case"z":p=!1,g===y&&v===O||f.lineTo(y,O);break;case"L":case"H":case"V":b="V"===h?g:c(),E="H"===h?v:c(),f.lineTo(b,E),g=b,v=E;break;case"l":case"h":case"v":b="v"===h?g:g+c(),E="h"===h?v:v+c(),f.lineTo(b,E),g=b,v=E;break;case"C":x=c(),w=c();case"S":"S"===h&&(x=2*g-j,w=2*v-T),j=c(),T=c(),b=c(),E=c(),f.bezierCurveTo(x,w,j,T,b,E),g=b,v=E;break;case"c":x=g+c(),w=v+c();case"s":"s"===h&&(x=2*g-j,w=2*v-T),j=g+c(),T=v+c(),b=g+c(),E=v+c(),f.bezierCurveTo(x,w,j,T,b,E),g=b,v=E;break;case"Q":x=c(),w=c();case"T":"T"===h&&(x=2*g-x,w=2*v-w),b=c(),E=c(),f.quadraticCurveTo(x,w,b,E),g=b,v=E;break;case"q":x=g+c(),w=v+c();case"t":"t"===h&&(x=2*g-x,w=2*v-w),b=g+c(),E=v+c(),f.quadraticCurveTo(x,w,b,E),g=b,v=E;break;case"A":I=c(),D=c(),S=c()*t,C=c(),M=c(),b=c(),E=c(),I!==D&&console.warn("Forcing elliptical arc to be a circular one :(",I,D),x=Math.cos(S)*(g-b)/2+Math.sin(S)*(v-E)/2,w=-Math.sin(S)*(g-b)/2+Math.cos(S)*(v-E)/2;var R=Math.sqrt((I*I*D*D-I*I*w*w-D*D*x*x)/(I*I*w*w+D*D*x*x));C===M&&(R=-R),j=R*I*w/D,T=R*-D*x/I,l=Math.cos(S)*j-Math.sin(S)*T+(g+b)/2,d=Math.sin(S)*j+Math.cos(S)*T+(v+E)/2;var F=new THREE.Vector2(1,0),L=new THREE.Vector2((x-j)/I,(w-T)/D),P=Math.acos(F.dot(L)/F.length()/L.length());F.x*L.y-F.y*L.x<0&&(P=-P),F.x=(-x-j)/I,F.y=(-w-T)/D;var A=Math.acos(L.dot(F)/L.length()/F.length());L.x*F.y-L.y*F.x<0&&(A=-A),!M&&A>0&&(A-=2*Math.PI),M&&A<0&&(A+=2*Math.PI),f.absarc(l,d,I,P,P+A,M),g=b,v=E;break;default:throw new Error("weird path command: "+h)}p&&u()||(h=e[m++])}return f}}var o={};n(o),e.exports=o},function(e,t){THREE.Geometry.prototype.merge2=function(e,t,i){if((e&&e.isGeometry)===!1)return void console.error("THREE.Geometry.merge2(): geometry not an instance of THREE.Geometry.",e);var n,o=this.vertices.length,r=this.vertices,a=e.vertices,s=this.faces,c=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0];void 0===i&&(i=0),void 0!==t&&(n=(new Matrix3).getNormalMatrix(t));for(var l=0,d=a.length;l<d;l++){var p=a[l],f=p.clone();void 0!==t&&f.applyMatrix4(t),r.push(f)}for(l=0,d=c.length;l<d;l++){var m,_,g,v=c[l],b=v.vertexNormals,E=v.vertexColors;m=new THREE.Face3(v.a+o,v.b+o,v.c+o),m.normal.copy(v.normal),void 0!==n&&m.normal.applyMatrix3(n).normalize();for(var y=0,O=b.length;y<O;y++)_=b[y].clone(),void 0!==n&&_.applyMatrix3(n).normalize(),m.vertexNormals.push(_);m.color.copy(v.color);for(var y=0,O=E.length;y<O;y++)g=E[y],m.vertexColors.push(g.clone());m.materialIndex=i,s.push(m)}for(l=0,d=h.length;l<d;l++){var x=h[l],j=[];if(void 0!==x){for(var y=0,O=x.length;y<O;y++)j.push(x[y].clone());u.push(j)}}},THREE.BufferGeometry.prototype.merge2=function(e){if((e&&e.isBufferGeometry)===!1)return void console.error("THREE.BufferGeometry.merge2(): geometry not an instance of THREE.BufferGeometry.",e);var t=this.attributes;for(var i in e.attributes)if(e.attributes.hasOwnProperty(i)&&e.attributes[i]instanceof THREE.BufferAttribute){var n=e.attributes[i],o=n.array,r=n.itemSize,a=t[i];a||(a=t[i]=new n.constructor(new o.constructor,r));var s=a.array,c=new o.constructor(o.length+s.length);c.set(s),c.set(o,s.length),a.array=c,a.count=c.length/r}var u=this.index,h=e.index;if(h){var l=u?u.count:0,d=l+h.count;c=new Uint32Array(d),u&&c.set(u.array);var p=t.position,f=e.attributes.position;if(p&&f)for(var m=p.count-f.count,_=0;_<h.count;_++)c[l+_]=h.array[_]+m;this.index=new(d>65535?THREE.Uint32BufferAttribute:THREE.Uint16BufferAttribute)(c,1)}return this},THREE.UniformsUtils.merge=function(e,t){for(var i={},n=0;n<e.length;n++){var o=this.clone(e[n]);for(var r in o)i[r]=o[r]}if("object"==typeof t&&null!=t)for(r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i}},function(e,t){THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,i,n){var o=this,r=new THREE.XHRLoader(o.manager);r.setPath(this.path),r.load(e,function(e){t(o.parse(e))},i,n)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=e,void(this.object.fromDeclaration=t!==!1);this.object&&"function"==typeof this.object._finalize&&this.object._finalize();var i=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var i=this._finalize(!1);i&&(i.inherited||i.groupCount<=0)&&this.materials.splice(i.index,1);var n={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==i?i.smooth:this.smooth,groupStart:void 0!==i?i.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){return{index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:this.groupEnd,groupEnd:-1,groupCount:-1,inherited:!1}}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();return t&&t.groupEnd===-1&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e!==!1&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},i&&i.name&&"function"==typeof i.clone){var n=i.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize()},parseVertexIndex:function(e,t){var i=parseInt(e,10);return 3*(i>=0?i-1:i+t/3)},parseNormalIndex:function(e,t){var i=parseInt(e,10);return 3*(i>=0?i-1:i+t/3)},parseUVIndex:function(e,t){var i=parseInt(e,10);return 2*(i>=0?i-1:i+t/2)},addVertex:function(e,t,i){var n=this.vertices,o=this.object.geometry.vertices;o.push(n[e+0]),o.push(n[e+1]),o.push(n[e+2]),o.push(n[t+0]),o.push(n[t+1]),o.push(n[t+2]),o.push(n[i+0]),o.push(n[i+1]),o.push(n[i+2])},addVertexLine:function(e){var t=this.vertices,i=this.object.geometry.vertices;i.push(t[e+0]),i.push(t[e+1]),i.push(t[e+2])},addNormal:function(e,t,i){var n=this.normals,o=this.object.geometry.normals;o.push(n[e+0]),o.push(n[e+1]),o.push(n[e+2]),o.push(n[t+0]),o.push(n[t+1]),o.push(n[t+2]),o.push(n[i+0]),o.push(n[i+1]),o.push(n[i+2])},
addUV:function(e,t,i){var n=this.uvs,o=this.object.geometry.uvs;o.push(n[e+0]),o.push(n[e+1]),o.push(n[t+0]),o.push(n[t+1]),o.push(n[i+0]),o.push(n[i+1])},addUVLine:function(e){var t=this.uvs,i=this.object.geometry.uvs;i.push(t[e+0]),i.push(t[e+1])},addFace:function(e,t,i,n,o,r,a,s,c,u,h,l){var d,p=this.vertices.length,f=this.parseVertexIndex(e,p),m=this.parseVertexIndex(t,p),_=this.parseVertexIndex(i,p);if(void 0===n?this.addVertex(f,m,_):(d=this.parseVertexIndex(n,p),this.addVertex(f,m,d),this.addVertex(m,_,d)),void 0!==o){var g=this.uvs.length;f=this.parseUVIndex(o,g),m=this.parseUVIndex(r,g),_=this.parseUVIndex(a,g),void 0===n?this.addUV(f,m,_):(d=this.parseUVIndex(s,g),this.addUV(f,m,d),this.addUV(m,_,d))}if(void 0!==c){var v=this.normals.length;f=this.parseNormalIndex(c,v),m=c===u?f:this.parseNormalIndex(u,v),_=c===h?f:this.parseNormalIndex(h,v),void 0===n?this.addNormal(f,m,_):(d=this.parseNormalIndex(l,v),this.addNormal(f,m,d),this.addNormal(m,_,d))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var i=this.vertices.length,n=this.uvs.length,o=0,r=e.length;o<r;o++)this.addVertexLine(this.parseVertexIndex(e[o],i));for(var a=0,r=t.length;a<r;a++)this.addUVLine(this.parseUVIndex(t[a],n))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();e.indexOf("\r\n")!==-1&&(e=e.replace("\r\n","\n"));for(var i=e.split("\n"),n="",o="",r="",a=0,s=[],c="function"==typeof"".trimLeft,u=0,h=i.length;u<h;u++)if(n=i[u],n=c?n.trimLeft():n.trim(),a=n.length,0!==a&&(o=n.charAt(0),"#"!==o))if("v"===o)if(r=n.charAt(1)," "===r&&null!==(s=this.regexp.vertex_pattern.exec(n)))t.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else if("n"===r&&null!==(s=this.regexp.normal_pattern.exec(n)))t.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else{if("t"!==r||null===(s=this.regexp.uv_pattern.exec(n)))throw new Error("Unexpected vertex/normal/uv line: '"+n+"'");t.uvs.push(parseFloat(s[1]),parseFloat(s[2]))}else if("f"===o)if(null!==(s=this.regexp.face_vertex_uv_normal.exec(n)))t.addFace(s[1],s[4],s[7],s[10],s[2],s[5],s[8],s[11],s[3],s[6],s[9],s[12]);else if(null!==(s=this.regexp.face_vertex_uv.exec(n)))t.addFace(s[1],s[3],s[5],s[7],s[2],s[4],s[6],s[8]);else if(null!==(s=this.regexp.face_vertex_normal.exec(n)))t.addFace(s[1],s[3],s[5],s[7],void 0,void 0,void 0,void 0,s[2],s[4],s[6],s[8]);else{if(null===(s=this.regexp.face_vertex.exec(n)))throw new Error("Unexpected face line: '"+n+"'");t.addFace(s[1],s[2],s[3],s[4])}else if("l"===o){var l=n.substring(1).trim().split(" "),d=[],p=[];if(n.indexOf("/")===-1)d=l;else for(var f=0,m=l.length;f<m;f++){var _=l[f].split("/");""!==_[0]&&d.push(_[0]),""!==_[1]&&p.push(_[1])}t.addLineGeometry(d,p)}else if(null!==(s=this.regexp.object_pattern.exec(n))){var g=s[0].substr(1).trim();t.startObject(g)}else if(this.regexp.material_use_pattern.test(n))t.object.startMaterial(n.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(n))t.materialLibraries.push(n.substring(7).trim());else{if(null===(s=this.regexp.smoothing_pattern.exec(n))){if("\0"===n)continue;throw new Error("Unexpected line: '"+n+"'")}var v=s[1].trim().toLowerCase();t.object.smooth="1"===v||"on"===v;var b=t.object.currentMaterial();b&&(b.smooth=t.object.smooth)}t.finalize();var E=new THREE.Group;E.materialLibraries=[].concat(t.materialLibraries);for(var u=0,h=t.objects.length;u<h;u++){var y=t.objects[u],O=y.geometry,x=y.materials,j="Line"===O.type;if(0!==O.vertices.length){var w=new THREE.BufferGeometry;w.addAttribute("position",new THREE.BufferAttribute(new Float32Array(O.vertices),3)),O.normals.length>0?w.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(O.normals),3)):w.computeVertexNormals(),O.uvs.length>0&&w.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(O.uvs),2));for(var T=[],I=0,D=x.length;I<D;I++){var S=x[I],b=void 0;if(null!==this.materials&&(b=this.materials.create(S.name),j&&b&&!(b instanceof THREE.LineBasicMaterial))){var C=new THREE.LineBasicMaterial;C.copy(b),b=C}b||(b=j?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial,b.name=S.name),b.shading=S.smooth?THREE.SmoothShading:THREE.FlatShading,T.push(b)}var M;if(T.length>1){for(var I=0,D=x.length;I<D;I++){var S=x[I];w.addGroup(S.groupStart,S.groupCount,I)}var R=new THREE.MultiMaterial(T);M=j?new THREE.LineSegments(w,R):new THREE.Mesh(w,R)}else M=j?new THREE.LineSegments(w,T[0]):new THREE.Mesh(w,T[0]);M.name=y.name,E.add(M)}}return console.timeEnd("OBJLoader"),E}}},function(e,t){THREE.OrbitControls=function(e,t){function i(){return 2*Math.PI/60/60*F.autoRotateSpeed}function n(){return Math.pow(.95,F.zoomSpeed)}function o(e){V.theta-=e}function r(e){V.phi-=e}function a(e){F.object instanceof THREE.PerspectiveCamera?G/=e:F.object instanceof THREE.OrthographicCamera?(F.object.zoom=Math.max(F.minZoom,Math.min(F.maxZoom,F.object.zoom*e)),F.object.updateProjectionMatrix(),X=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),F.enableZoom=!1)}function s(e){F.object instanceof THREE.PerspectiveCamera?G*=e:F.object instanceof THREE.OrthographicCamera?(F.object.zoom=Math.max(F.minZoom,Math.min(F.maxZoom,F.object.zoom/e)),F.object.updateProjectionMatrix(),X=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),F.enableZoom=!1)}function c(e){B.set(e.clientX,e.clientY)}function u(e){Q.set(e.clientX,e.clientY)}function h(e){W.set(e.clientX,e.clientY)}function l(e){Y.set(e.clientX,e.clientY),Z.subVectors(Y,B);var t=F.domElement===document?F.domElement.body:F.domElement;o(2*Math.PI*Z.x/t.clientWidth*F.rotateSpeed),r(2*Math.PI*Z.y/t.clientHeight*F.rotateSpeed),B.copy(Y),F.update()}function d(e){K.set(e.clientX,e.clientY),$.subVectors(K,Q),$.y>0?a(n()):$.y<0&&s(n()),Q.copy(K),F.update()}function p(e){J.set(e.clientX,e.clientY),q.subVectors(J,W),ie(q.x,q.y),W.copy(J),F.update()}function f(e){}function m(e){var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?s(n()):t<0&&a(n()),F.update()}function _(e){switch(e.keyCode){case F.keys.UP:ie(0,F.keyPanSpeed),F.update();break;case F.keys.BOTTOM:ie(0,-F.keyPanSpeed),F.update();break;case F.keys.LEFT:ie(F.keyPanSpeed,0),F.update();break;case F.keys.RIGHT:ie(-F.keyPanSpeed,0),F.update()}}function g(e){B.set(e.touches[0].pageX,e.touches[0].pageY)}function v(e){var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+i*i);Q.set(0,n)}function b(e){W.set(e.touches[0].pageX,e.touches[0].pageY)}function E(e){Y.set(e.touches[0].pageX,e.touches[0].pageY),Z.subVectors(Y,B);var t=F.domElement===document?F.domElement.body:F.domElement;o(2*Math.PI*Z.x/t.clientWidth*F.rotateSpeed),r(2*Math.PI*Z.y/t.clientHeight*F.rotateSpeed),B.copy(Y),F.update()}function y(e){var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+i*i);K.set(0,o),$.subVectors(K,Q),$.y>0?s(n()):$.y<0&&a(n()),Q.copy(K),F.update()}function O(e){J.set(e.touches[0].pageX,e.touches[0].pageY),q.subVectors(J,W),ie(q.x,q.y),W.copy(J),F.update()}function x(e){}function j(e){if(F.enabled!==!1){if(e.preventDefault(),e.button===F.mouseButtons.ORBIT){if(F.enableRotate===!1)return;c(e),N=H.ROTATE}else if(e.button===F.mouseButtons.ZOOM){if(F.enableZoom===!1)return;u(e),N=H.DOLLY}else if(e.button===F.mouseButtons.PAN){if(F.enablePan===!1)return;h(e),N=H.PAN}N!==H.NONE&&(document.addEventListener("mousemove",w,!1),document.addEventListener("mouseup",T,!1),document.addEventListener("mouseout",T,!1),F.dispatchEvent(P))}}function w(e){if(F.enabled!==!1)if(e.preventDefault(),N===H.ROTATE){if(F.enableRotate===!1)return;l(e)}else if(N===H.DOLLY){if(F.enableZoom===!1)return;d(e)}else if(N===H.PAN){if(F.enablePan===!1)return;p(e)}}function T(e){F.enabled!==!1&&(f(e),document.removeEventListener("mousemove",w,!1),document.removeEventListener("mouseup",T,!1),document.removeEventListener("mouseout",T,!1),F.dispatchEvent(A),N=H.NONE)}function I(e){F.enabled===!1||F.enableZoom===!1||N!==H.NONE&&N!==H.ROTATE||(e.preventDefault(),e.stopPropagation(),m(e),F.dispatchEvent(P),F.dispatchEvent(A))}function D(e){F.enabled!==!1&&F.enableKeys!==!1&&F.enablePan!==!1&&_(e)}function S(e){if(F.enabled!==!1){switch(e.touches.length){case 1:if(F.enableRotate===!1)return;g(e),N=H.TOUCH_ROTATE;break;case 2:if(F.enableZoom===!1)return;v(e),N=H.TOUCH_DOLLY;break;case 3:if(F.enablePan===!1)return;b(e),N=H.TOUCH_PAN;break;default:N=H.NONE}N!==H.NONE&&F.dispatchEvent(P)}}function C(e){if(F.enabled!==!1)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(F.enableRotate===!1)return;if(N!==H.TOUCH_ROTATE)return;E(e);break;case 2:if(F.enableZoom===!1)return;if(N!==H.TOUCH_DOLLY)return;y(e);break;case 3:if(F.enablePan===!1)return;if(N!==H.TOUCH_PAN)return;O(e);break;default:N=H.NONE}}function M(e){F.enabled!==!1&&(x(e),F.dispatchEvent(A),N=H.NONE)}function R(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-(1/0),this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return U.phi},this.getAzimuthalAngle=function(){return U.theta},this.reset=function(){F.target.copy(F.target0),F.object.position.copy(F.position0),F.object.zoom=F.zoom0,F.object.updateProjectionMatrix(),F.dispatchEvent(L),F.update(),N=H.NONE},this.update=function(){var t=new THREE.Vector3,n=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),r=n.clone().inverse(),a=new THREE.Vector3,s=new THREE.Quaternion;return function(){var e=F.object.position;return t.copy(e).sub(F.target),t.applyQuaternion(n),U.setFromVector3(t),F.autoRotate&&N===H.NONE&&o(i()),U.theta+=V.theta,U.phi+=V.phi,U.theta=Math.max(F.minAzimuthAngle,Math.min(F.maxAzimuthAngle,U.theta)),U.phi=Math.max(F.minPolarAngle,Math.min(F.maxPolarAngle,U.phi)),U.makeSafe(),U.radius*=G,U.radius=Math.max(F.minDistance,Math.min(F.maxDistance,U.radius)),F.target.add(z),t.setFromSpherical(U),t.applyQuaternion(r),e.copy(F.target).add(t),F.object.lookAt(F.target),F.enableDamping===!0?(V.theta*=1-F.dampingFactor,V.phi*=1-F.dampingFactor):V.set(0,0,0),G=1,z.set(0,0,0),!!(X||a.distanceToSquared(F.object.position)>k||8*(1-s.dot(F.object.quaternion))>k)&&(F.dispatchEvent(L),a.copy(F.object.position),s.copy(F.object.quaternion),X=!1,!0)}}(),this.dispose=function(){F.domElement.removeEventListener("contextmenu",R,!1),F.domElement.removeEventListener("mousedown",j,!1),F.domElement.removeEventListener("mousewheel",I,!1),F.domElement.removeEventListener("MozMousePixelScroll",I,!1),F.domElement.removeEventListener("touchstart",S,!1),F.domElement.removeEventListener("touchend",M,!1),F.domElement.removeEventListener("touchmove",C,!1),document.removeEventListener("mousemove",w,!1),document.removeEventListener("mouseup",T,!1),document.removeEventListener("mouseout",T,!1),window.removeEventListener("keydown",D,!1)};var F=this,L={type:"change"},P={type:"start"},A={type:"end"},H={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},N=H.NONE,k=1e-6,U=new THREE.Spherical,V=new THREE.Spherical,G=1,z=new THREE.Vector3,X=!1,B=new THREE.Vector2,Y=new THREE.Vector2,Z=new THREE.Vector2,W=new THREE.Vector2,J=new THREE.Vector2,q=new THREE.Vector2,Q=new THREE.Vector2,K=new THREE.Vector2,$=new THREE.Vector2,ee=function(){var e=new THREE.Vector3;return function(t,i){e.setFromMatrixColumn(i,0),e.multiplyScalar(-t),z.add(e)}}(),te=function(){var e=new THREE.Vector3;return function(t,i){e.setFromMatrixColumn(i,1),e.multiplyScalar(t),z.add(e)}}(),ie=function(){var e=new THREE.Vector3;return function(t,i){var n=F.domElement===document?F.domElement.body:F.domElement;if(F.object instanceof THREE.PerspectiveCamera){var o=F.object.position;e.copy(o).sub(F.target);var r=e.length();r*=Math.tan(F.object.fov/2*Math.PI/180),ee(2*t*r/n.clientHeight,F.object.matrix),te(2*i*r/n.clientHeight,F.object.matrix)}else F.object instanceof THREE.OrthographicCamera?(ee(t*(F.object.right-F.object.left)/F.object.zoom/n.clientWidth,F.object.matrix),te(i*(F.object.top-F.object.bottom)/F.object.zoom/n.clientHeight,F.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),F.enablePan=!1)}}();F.domElement.addEventListener("contextmenu",R,!1),F.domElement.addEventListener("mousedown",j,!1),F.domElement.addEventListener("mousewheel",I,!1),F.domElement.addEventListener("MozMousePixelScroll",I,!1),F.domElement.addEventListener("touchstart",S,!1),F.domElement.addEventListener("touchend",M,!1),F.domElement.addEventListener("touchmove",C,!1),window.addEventListener("keydown",D,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}})}])})},function(e,t,i){var n=i(1),o=n.CommonLib,r=o.forge,a=i(3),s=i(6),c=i(21),u=function(e){a.call(this,e);var t=this._stage3d;t.camera.position.set(-4.113539882700237,-343.884212661633,475.03659761309075),e.cameraPosition instanceof Array&&t.camera.position.set.apply(t.camera.position,e.cameraPosition),t.camera.fov=45;var i=this._controls;i.target.set(0,0,0),i.minDistance=50,i.maxDistance=3200,i.update()};u.prototype=r(a.prototype,{constructor:u,_map:void 0,get map(){return this._map},get mapItemData(){return this._map.itemData},set mapItemData(e){this._map.itemData=e},_initLight:function(){},_initObject:function(){var e=this,t=e._parameters,n=e._stage3d,o=new s;e._map=o,o.idField="id",o.mapData=t.mapData||i(23),o.strokeColor=t.strokeColor||1802489,o.showSurfaces=!0,o.showStrokes=!0,o.showLabels=!1,o.labelField="name",o.labelPositionField="cp",o.labelScale=1,o.labelFillColor=t.labelFillColor||5282240,o.labelStrokeColor=t.labelStrokeColor||0,o.highlightColor=t.highlightColor||void 0,o.highlightOffset=5,o.scaleX=8,o.scaleY=10,o.scaleZ=11,o.fillColor=12303291,t.crustsTexture&&(o.crustsTexture=(new THREE.TextureLoader).load(t.crustsTexture),o.crustsTexture.wrapS=THREE.RepeatWrapping,o.crustsTexture.wrapT=THREE.RepeatWrapping),o.crustsOffsetRepeat.z=t.crustsTextureRepeatX||.2,o.crustsOffsetRepeat.w=t.crustsTextureRepeatY||0,o.surfaceFillColor=268395,t.surfacesTexture&&(o.surfacesTexture=(new THREE.TextureLoader).load(t.surfacesTexture),o.surfacesTexture.wrapS=THREE.RepeatWrapping,o.surfacesTexture.wrapT=THREE.RepeatWrapping),o.surfacesOffsetRepeat.z=t.surfacesTextureRepeatX||.0618,o.surfacesOffsetRepeat.w=t.surfacesTextureRepeatY||.0618,n.addObject(o),o.on("itemClick",function(t){e.dispatchEvent({type:"mapItemClick",mouseEvent:t.mouseEvent,index:t.index,feature:t.feature,item:t.data})}),o.on("itemMouseOut",function(t){e.dispatchEvent({type:"mapItemMouseOut",mouseEvent:t.mouseEvent,item:t.data})}),o.on("itemMouseOver",function(t){e.dispatchEvent({type:"mapItemMouseOver",mouseEvent:t.mouseEvent,index:t.index,feature:t.feature,item:t.data})});var r=new c;if(r.interactive=!1,r.useLights=!1,r.scaleX=.0618*o.scaleX,r.scaleY=.0618*o.scaleY,r.scaleZ=.9*o.scaleZ,r.showLabels=!0,r.labelField="name",r.labelScale=25*o.labelScale,r.fillColor=t.southChinaSeaFillColor||268395,r.strokeColor=t.southChinaSeaStrokeColor||o.strokeColor,r.highlightColor=o.highlightColor,r.highlightAnimationDuration=o.highlightAnimationDuration,r.position.set(200,-130,0),n.addObject(r),t.shadowTexture){var a=new THREE.Mesh(new THREE.PlaneGeometry(o.boundingBox.width,o.boundingBox.height),new THREE.MeshBasicMaterial({map:(new THREE.TextureLoader).load(t.shadowTexture),color:t.shadowColor||33023,transparent:!0,opacity:t.shadowAlpha||.25,depthWrite:!1})),u=1.3;a.scale.set(o.scaleX*u,o.scaleY*u,1),a.position.z=-.2,n.addObject(a)}}}),e.exports=u},function(e,t,i){var n=i(4),o=i(1),r=o.Stage3D,a=o.CommonLib,s=a.forge,c=a.EventDispatcher,u=a.Timer,h=function(e){this._parameters=e||{},this._initEnv(),this._initialized=!0};h.prototype=s(c.prototype,{constructor:h,_parameters:void 0,_initialized:!1,_stage3d:void 0,_timer:void 0,_controls:void 0,_addLight:function(e,t,i,n,o,r,a){var s=new THREE.PointLight(e,t);if(s.position.set(i,n,o),this._stage3d.scene.add(s),r){var c=new THREE.Mesh(new THREE.SphereGeometry(a||1),new THREE.MeshBasicMaterial({color:e}));c.position.set(i,n,o),this._stage3d.scene.add(c)}},_initEnv:function(){this._initialized||(this._initEngine(),this._initLight(),this._initControl(),this._initObject())},_initEngine:function(){var e=this;this._stage3d=new r,this._stage3d.camera.position.set(74/255,85/255,83/255),this._timer=new u(u.REQUEST_ANIMATION_FRAME),this._timer.on("timer",function(){n.update(),e._stage3d.render(),e._render()}),this._timer.start()},_initLight:function(){var e=!1;this._addLight(16777215,.4,86/255,73/255,83/255,e)},_initControl:function(){this._controls=new THREE.OrbitControls(this._stage3d.camera,this._stage3d.domElement),this._controls.enableDamping=!0,this._controls.dampingFactor=.25,this._controls.rotateSpeed=.35,this._controls.minDistance=100,this._controls.maxDistance=1600;var e=this;this._stage3d.domElement.addEventListener("dblclick",function(t){t.shiftKey&&(console.log("DEBUG: "),console.log("camera.position",e._stage3d.camera.position.x,e._stage3d.camera.position.y,e._stage3d.camera.position.z),console.log("control.target",e._controls.target.x,e._controls.target.y,e._controls.target.z))})},_initObject:function(){},_render:function(){},get domElement(){return this._stage3d.domElement},start:function(){this._timer.start()},stop:function(){this._timer.stop()},appear:function(e,t,i){},disappear:function(e,t,i){},resize:function(e,t){this._stage3d.width(e),this._stage3d.height(t)},capture:function(e,t){this._stage3d.capture(e,t)}}),e.exports=h},function(e,t,i){var n,o;(function(i){var r=r||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var i=e.indexOf(t);i!==-1&&e.splice(i,1)},update:function(t,i){if(0===e.length)return!1;var n=0;for(t=void 0!==t?t:r.now();n<e.length;)e[n].update(t)||i?n++:e.splice(n,1);return!0}}}();"undefined"==typeof window&&"undefined"!=typeof i?r.now=function(){var e=i.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?r.now=window.performance.now.bind(window.performance):void 0!==Date.now?r.now=Date.now:r.now=function(){return(new Date).getTime()},r.Tween=function(e){var t,i=e,n={},o={},a={},s=1e3,c=0,u=!1,h=!1,l=!1,d=0,p=null,f=r.Easing.Linear.None,m=r.Interpolation.Linear,_=[],g=null,v=!1,b=null,E=null,y=null;this.to=function(e,t){return o=e,void 0!==t&&(s=t),this},this.start=function(e){r.add(this),h=!0,v=!1,p=void 0!==e?e:r.now(),p+=d;for(var t in o){if(o[t]instanceof Array){if(0===o[t].length)continue;o[t]=[i[t]].concat(o[t])}void 0!==i[t]&&(n[t]=i[t],n[t]instanceof Array==0&&(n[t]*=1),a[t]=n[t]||0)}return this},this.stop=function(){return h?(r.remove(this),h=!1,null!==y&&y.call(i,i),this.stopChainedTweens(),this):this},this.end=function(){return this.update(p+s),this},this.stopChainedTweens=function(){for(var e=0,t=_.length;e<t;e++)_[e].stop()},this.delay=function(e){return d=e,this},this.repeat=function(e){return c=e,this},this.repeatDelay=function(e){return t=e,this},this.yoyo=function(e){return u=e,this},this.easing=function(e){return f=e,this},this.interpolation=function(e){return m=e,this},this.chain=function(){return _=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return b=e,this},this.onComplete=function(e){return E=e,this},this.onStop=function(e){return y=e,this},this.update=function(e){var r,h,y;if(e<p)return!0;v===!1&&(null!==g&&g.call(i,i),v=!0),h=(e-p)/s,h=h>1?1:h,y=f(h);for(r in o)if(void 0!==n[r]){var O=n[r]||0,x=o[r];x instanceof Array?i[r]=m(x,y):("string"==typeof x&&(x="+"===x.charAt(0)||"-"===x.charAt(0)?O+parseFloat(x):parseFloat(x)),"number"==typeof x&&(i[r]=O+(x-O)*y))}if(null!==b&&b.call(i,y),1===h){if(c>0){isFinite(c)&&c--;for(r in a){if("string"==typeof o[r]&&(a[r]=a[r]+parseFloat(o[r])),u){var j=a[r];a[r]=o[r],o[r]=j}n[r]=a[r]}return u&&(l=!l),p=void 0!==t?e+t:e+d,!0}null!==E&&E.call(i,i);for(var w=0,T=_.length;w<T;w++)_[w].start(p+s);return!1}return!0}},r.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-r.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*r.Easing.Bounce.In(2*e):.5*r.Easing.Bounce.Out(2*e-1)+.5}}},r.Interpolation={Linear:function(e,t){var i=e.length-1,n=i*t,o=Math.floor(n),a=r.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],n):t>1?a(e[i],e[i-1],i-n):a(e[o],e[o+1>i?i:o+1],n-o)},Bezier:function(e,t){for(var i=0,n=e.length-1,o=Math.pow,a=r.Interpolation.Utils.Bernstein,s=0;s<=n;s++)i+=o(1-t,n-s)*o(t,s)*e[s]*a(n,s);return i},CatmullRom:function(e,t){var i=e.length-1,n=i*t,o=Math.floor(n),a=r.Interpolation.Utils.CatmullRom;return e[0]===e[i]?(t<0&&(o=Math.floor(n=i*(1+t))),a(e[(o-1+i)%i],e[o],e[(o+1)%i],e[(o+2)%i],n-o)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[i]-(a(e[i],e[i],e[i-1],e[i-1],n-i)-e[i]):a(e[o?o-1:0],e[o],e[i<o+1?i:o+1],e[i<o+2?i:o+2],n-o)},Utils:{Linear:function(e,t,i){return(t-e)*i+e},Bernstein:function(e,t){var i=r.Interpolation.Utils.Factorial;return i(e)/i(t)/i(e-t)},Factorial:function(){var e=[1];return function(t){var i=1;if(e[t])return e[t];for(var n=t;n>1;n--)i*=n;return e[t]=i,i}}(),CatmullRom:function(e,t,i,n,o){var r=.5*(i-e),a=.5*(n-t),s=o*o,c=o*s;return(2*t-2*i+r+a)*c+(-3*t+3*i-2*r-a)*s+r*o+t}}},function(i){n=[],o=function(){return r}.apply(t,n),!(void 0!==o&&(e.exports=o))}(this)}).call(t,i(5))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(h===setTimeout)return setTimeout(e,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function r(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):_=-1,f.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=f.length;t;){for(p=f,f=[];++_<t;)p&&p[_].run();_=-1,t=f.length}p=null,m=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var h,l,d=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(e){h=i}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var p,f=[],m=!1,_=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new c(e,t)),1!==f.length||m||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,i){var n=i(4),o=i(1),r=o.CommonLib,a=r.forge,s=i(7),c={_updateCrusts:s.prototype._updateCrusts,_updateSurfaces:s.prototype._updateSurfaces},u=function(){s.call(this),this.useLights=!1};u.prototype=a(s.prototype,{constructor:u,_surfaceFillColor:16777215,get surfaceFillColor(){return this._surfaceFillColor},set surfaceFillColor(e){this._surfaceFillColor=e},_crustsTexture:void 0,get crustsTexture(){return this._crustsTexture},set crustsTexture(e){this._crustsTexture=e},_crustsOffsetRepeat:new THREE.Vector4(0,0,1,1),get crustsOffsetRepeat(){return this._crustsOffsetRepeat},set crustsOffsetRepeat(e){this._crustsOffsetRepeat=e},_surfacesTexture:void 0,get surfacesTexture(){return this._surfacesTexture},set surfacesTexture(e){this._surfacesTexture=e},_surfacesOffsetRepeat:new THREE.Vector4(0,0,1,1),get surfacesOffsetRepeat(){return this._surfacesOffsetRepeat},set surfacesOffsetRepeat(e){this._surfacesOffsetRepeat=e},_updateCrusts:function(e){if(this._showSurfaces){c._updateCrusts.call(this,e);var t=this._crusts.material;t.uniforms.map={type:"t",value:this._crustsTexture},t.uniforms.offsetRepeat={type:"vec4",value:this._crustsOffsetRepeat},t.vertexShader=["#define USE_MAP",t.vertexShader].join("\n"),t.fragmentShader=["#define USE_MAP",t.fragmentShader].join("\n")}},_updateSurfaces:function(e){if(this._showSurfaces){c._updateSurfaces.call(this,e);var t=this._surfaceFillColor instanceof Array?this._surfaceFillColor:[this._surfaceFillColor],i=t.map(function(e){return new THREE.Color(e)}),o=[];this._groupData.colorMap2=o;for(var r=0,a=this._groupData.length,s=0;r<a;r++,s+=3){var u=i[r%i.length];o[s]=u.r,o[s+1]=u.g,o[s+2]=u.b;var h=this._groupData[r];h.color2=u,h.colorTo2=function(e){var t=this;this._tweenColor2&&this._tweenColor2.stop();var i=3*this.index,o=this.color2,r=this.color2=e;this._tweenColor2=new n.Tween({t:0}).to({t:1},500).onUpdate(function(){t._renderColor2(i,this.t,o,r)}).start()},h._renderColor2=function(e,t,i,n){o[e]=i.r+(n.r-i.r)*t,o[e+1]=i.g+(n.g-i.g)*t,o[e+2]=i.b+(n.b-i.b)*t}}var l=this._surfaces.material;l.uniforms.map={type:"t",value:this._surfacesTexture},l.uniforms.offsetRepeat={type:"vec4",value:this._surfacesOffsetRepeat},l.uniforms.colorMap={type:"fv",value:this._groupData.colorMap2},l.vertexShader=["#define USE_MAP",l.vertexShader].join("\n"),l.fragmentShader=["#define USE_MAP",l.fragmentShader].join("\n")}},_itemDataUpdated:function(e){var t=this._groupIdMap[e.id];t&&(t.item=e,e.color&&t.colorTo2(new THREE.Color(e.color)),e.offset&&"object"==typeof e.offset&&t.offset(e.offset))}}),e.exports=u},function(e,t,i){var n=i(4),o=i(1),r=o.InteractiveObject3D,a=i(8),s=i(9),c=o.$d3g,u=o.CommonLib,h=u.forge,l=u.EventDispatcher,d=u.UiComponent,p=function(e,t){THREE.Mesh.call(this,e,t)};p.prototype=h(THREE.Mesh.prototype,r.prototype,l.prototype,{constructor:p,mouseOut:function(e){},mouseOver:function(e){},click:function(e){}}),[["grouped_pars_vertex",i(10)],["grouped_vertex",i(11)],["animated_pars_vertex",i(12)],["animated_color_pars_vertex",i(13)],["animated_color_vertex",i(14)]].forEach(function(e){var t=e[0],i=e[1];THREE.ShaderChunk[t]||(THREE.ShaderChunk[t]=i)});var f=function(){THREE.Group.call(this);var e=this;this._crusts=new p,this._crusts.interactive=!0,this._crusts.useFaces=!0,this._crusts._focusGroupObject=void 0,this._crusts.mouseOut=function(t){var i=-1,n=void 0,o=void 0;this._focusGroupObject&&(this._focusGroupObject.mouseOut(),i=this._focusGroupObject.index,n=e.mapData.features[i],o=this._focusGroupObject.item,this._focusGroupObject=null),e.dispatchEvent({type:"itemMouseOut",mouseEvent:t,index:i,feature:n,data:o})},this._crusts.mouseOver=function(t){var i=this.geometry.attributes.groupIndex.getX(t.index),n=e._groupData[i];if(this._focusGroupObject!=n){this._focusGroupObject&&this.mouseOut(t),this._focusGroupObject=n,this._focusGroupObject&&this._focusGroupObject.mouseOver();var o=e.mapData.features[i];e.dispatchEvent({type:"itemMouseOver",mouseEvent:t,index:i,feature:o,data:n.item})}},this._crusts.click=function(t){var i=this.geometry.attributes.groupIndex.getX(t.index),n=e._groupData[i],o=e.mapData.features[i];e.dispatchEvent({type:"itemClick",mouseEvent:t,index:i,feature:o,data:n.item})},this._surfaces=new THREE.Mesh,this._strokes=new THREE.LineSegments};f.prototype=h(THREE.Group.prototype,r.prototype,d.prototype,{constructor:f,_crusts:void 0,_surfaces:void 0,_strokes:void 0,_labels:void 0,_featureIdMap:void 0,_groupIdMap:void 0,_groupData:void 0,_selectedIndex:null,get selectedIndex(){return this._selectedIndex},set selectedIndex(e){this._groupData[this._selectedIndex]&&(this._groupData[this._selectedIndex].selected=!1),
this._selectedIndex=e,this._groupData[this._selectedIndex]&&(this._groupData[this._selectedIndex].selected=!0)},_scaleX:1,get scaleX(){return this._scaleX},set scaleX(e){this._scaleX=e,this._invalidateXY()},_scaleY:1,get scaleY(){return this._scaleY},set scaleY(e){this._scaleY=e,this._invalidateXY()},_scaleZ:1,get scaleZ(){return this._scaleZ},set scaleZ(e){this._scaleZ=e,this._invalidateZ()},_mapData:null,get mapData(){return this._mapData},set mapData(e){this._mapData=e,this._calculateBoundingBox(),this._invalidateGeometry()},_itemData:null,get itemData(){return this._itemData},set itemData(e){this._itemData=e,this._invalidateItemData()},_idField:"id",get idField(){return this._idField},set idField(e){this._idField=e},get interactive(){return this._crusts.interactive},set interactive(e){this._crusts.interactive=e},_interactiveControl:void 0,get interactiveControl(){return this._interactiveControl},set interactiveControl(e){this._interactiveControl=e},_fillColor:16777215,get fillColor(){return this._fillColor},set fillColor(e){this._fillColor=e},_useLights:!0,get useLights(){return this._useLights},set useLights(e){this._useLights=e},_strokeColor:0,get strokeColor(){return this._strokeColor},set strokeColor(e){this._strokeColor=e},_showCrusts:!0,get showCrusts(){return this._showCrusts},set showCrusts(e){this._showCrusts=e},_showSurfaces:!1,get showSurfaces(){return this._showSurfaces},set showSurfaces(e){this._showSurfaces=e},_showStrokes:!0,get showStrokes(){return this._showStrokes},set showStrokes(e){this._showStrokes=e},_showLabels:!1,get showLabels(){return this._showLabels},set showLabels(e){this._showLabels=e},_labelField:"name",get labelField(){return this._labelField},set labelField(e){this._labelField=e},_labelScale:1,get labelScale(){return this._labelScale},set labelScale(e){this._labelScale=e},_labelPositionField:void 0,get labelPositionField(){return this._labelPositionField},set labelPositionField(e){this._labelPositionField=e},_labelFillColor:16777215,get labelFillColor(){return this._labelFillColor},set labelFillColor(e){this._labelFillColor=e},_labelStrokeColor:0,get labelStrokeColor(){return this._labelStrokeColor},set labelStrokeColor(e){this._labelStrokeColor=e},_highlightColor:void 0,get highlightColor(){return this._highlightColor},set highlightColor(e){this._highlightColor=e},_highlightOffset:0,get highlightOffset(){return this._highlightOffset},set highlightOffset(e){this._highlightOffset=e},_highlightAnimationDuration:50,get highlightAnimationDuration(){return this._highlightAnimationDuration},set highlightAnimationDuration(e){this._highlightAnimationDuration=Math.max(e,50)},_boundingBox:null,get boundingBox(){return this._boundingBox},_invalidateGeometryFlag:!1,_invalidateGeometry:function(){this._invalidateGeometryFlag||(this._invalidateGeometryFlag=!0,this.invalidateProperties())},_invalidateXYFlag:!1,_invalidateXY:function(){this._invalidateXYFlag||(this._invalidateXYFlag=!0,this.invalidateProperties())},_invalidateZFlag:!1,_invalidateZ:function(){this._invalidateZFlag||(this._invalidateZFlag=!0,this.invalidateProperties())},_invalidateItemDataFlag:!1,_invalidateItemData:function(){this._invalidateItemDataFlag||(this._invalidateItemDataFlag=!0,this.invalidateProperties())},_getFeatureValue:function(e,t,i){var n=e.properties[t];if("undefined"==typeof n&&(n=e[t]),"undefined"==typeof n&&!i)throw new Error('Can NOT find field "'+t+'" with feature.');return n},_calculateBoundingBox:function(e,t){var i=this;if(0==arguments.length)this._boundingBox=new s,this._featureIdMap={},this._mapData.features.forEach(function(e){var t=i._getFeatureValue(e,i._idField);i._featureIdMap[t]=e;var n=e.geometry;e.boundingBox=new s,"MultiPolygon"==n.type?n.coordinates.forEach(function(t){i._calculateBoundingBox(t,e.boundingBox)}):"Polygon"==n.type?i._calculateBoundingBox(n.coordinates,e.boundingBox):console.warn("Unsupported geometry:",n),i._enrichBoundingBox(e.boundingBox)}),this._enrichBoundingBox(this._boundingBox);else if(e instanceof Array)for(var n=e[0],o=0;o<n.length;o++){var r=n[o],a=r[0],c=r[1];this._boundingBox.expand(a,c),t.expand(a,c)}},_enrichBoundingBox:function(e){e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2},_createShape:function(e){for(var t=e[0],i=[],n=0;n<t.length;n++){var o=t[n],r=o[0];r-=this._boundingBox.centerX,r*=this._scaleX,r=r.toFixed(4);var a=o[1];a-=this._boundingBox.centerY,a*=this._scaleY,a=a.toFixed(4),i.push(0==n?"M":"L",r,a),n==t.length-1&&i.push("Z")}var s=i.join(" ");return c.transformSVGPath(s)},_createCrustGeometry:function(e,t){var i=new THREE.ExtrudeGeometry(e,{amount:this._scaleZ,bevelEnabled:!1}),n=this._getFeatureValue(t,"zOffset",!0);isNaN(n)&&(n=1);for(var o=0,r=i.vertices.length;o<r;o++)i.vertices[o].z*=n;return i},_createSurfaceGeometry:function(e,t){var i=new THREE.ShapeGeometry(e),n=this._getFeatureValue(t,"zOffset",!0);isNaN(n)&&(n=1);for(var o=0,r=i.vertices.length;o<r;o++)i.vertices[o].z*=n;return i},_createStrokeGeometry:function(e,t){var i=new THREE.ShapeGeometry(e),n=this._getFeatureValue(t,"zOffset",!0);isNaN(n)&&(n=1);for(var o=0,r=i.vertices.length;o<r;o++)i.vertices[o].z*=n;return i},_mergeStrokeGeometry:function(e,t,i){var n=t._vertices;n||(n=t._vertices=[]);var o=t._indices;o||(o=t._indices=[]);var r=t._groupIndices;r||(r=t._groupIndices=[]);for(var a=0,s=e.vertices.length,c=n.length;a<s;a++,c++)n.push(e.vertices[a]),r.push(i),a<s-1?o.push(c,c+1):o.push(c,c+1-s);return t},_updateGroupData:function(){var e=this,t=this._mapData.features.length,i=this._fillColor instanceof Array?this._fillColor:[this._fillColor],o=i.map(function(e){return new THREE.Color(e)}),r=[],a=[];this._groupData={length:this._mapData.features.length,colorMap:r,offsetMap:a},this._groupIdMap={};for(var s=0,c=0;s<t;s++,c+=3){var u=o[s%o.length];r[c]=u.r,r[c+1]=u.g,r[c+2]=u.b,a[c]=0,a[c+1]=0,a[c+2]=0;var h=this._mapData.features[s],l={index:s,color:u,item:null,_tweenObject:{colorT:0,offsetT:0},_tweenColor:void 0,_tweenOffset:void 0,label:null,labelPosition:null,_selected:!1,get selected(){return this._selected},set selected(e){this._selected=e,this._selected?this.mouseOver():this.mouseOut()},mouseOut:function(){if(!this._selected){var t=e._interactiveControl;if(!t||"function"!=typeof t.mouseOut||(t.mouseOut.call(this,e),!t.overrideMode)){var i=e._highlightAnimationDuration;this._tweenColor&&this._tweenColor.stop();var o=3*this.index,r=this.color,a=new THREE.Color(e._highlightColor||r),s=this;this._tweenColor=new n.Tween(this._tweenObject).to({colorT:0},i).onUpdate(function(){s._renderColor(o,this.colorT,r,a)}).start(),this._tweenOffset&&this._tweenOffset.stop(),this._tweenOffset=new n.Tween(this._tweenObject).to({offsetT:0},i).onUpdate(function(){s._renderOffset(o,this.offsetT)}).start()}}},mouseOver:function(){var t=this,i=e._interactiveControl;if(!i||"function"!=typeof i.mouseOver||(i.mouseOver.call(this,e),!i.overrideMode)){var o=e._highlightAnimationDuration;this._tweenColor&&this._tweenColor.stop();var r=3*this.index,a=this.color,s=new THREE.Color(e._highlightColor||a);this._tweenColor=new n.Tween(this._tweenObject).to({colorT:1},o).onUpdate(function(){t._renderColor(r,this.colorT,a,s)}).start(),this._tweenOffset&&this._tweenOffset.stop(),this._tweenOffset=new n.Tween(this._tweenObject).to({offsetT:1},o).onUpdate(function(){t._renderOffset(r,this.offsetT)}).start()}},colorTo:function(e){var t=this;this._tweenColor&&this._tweenColor.stop();var i=3*this.index,o=this.color,r=this.color=e;this._tweenColor=new n.Tween({t:0}).to({t:1},500).onUpdate(function(){t._renderColor(i,this.t,o,r)}).start()},_renderColor:function(e,t,i,n){r[e]=i.r+(n.r-i.r)*t,r[e+1]=i.g+(n.g-i.g)*t,r[e+2]=i.b+(n.b-i.b)*t},_renderOffset:function(t,i){a[t]=0,a[t+1]=0,a[t+2]=i*e._highlightOffset,this.label&&(this.label.position.z=this.labelPosition.z+i*e._highlightOffset)},offset:function(e){var t=3*this.index;a[t]=e.x||0,a[t+1]=e.y||0,a[t+2]=e.z||0,this.label&&this.label.position.set(this.labelPosition.x+(e.x||0),this.labelPosition.y+(e.y||0),this.labelPosition.z+(e.z||0))}};this._groupData[l.index]=l;var d=this._getFeatureValue(h,e._idField);this._groupIdMap[d]=l}},_updateCrusts:function(e){if(this._showCrusts){var t=this._groupData.length,n=(new THREE.BufferGeometry).fromGeometry(e);n.removeAttribute("color");var o=[],r=[];n.groups.forEach(function(e){for(var t=Math.random()*Math.PI*2,i=e.start,n=e.start+e.count;i<n;i++)o.push(e.materialIndex),r.push(t+2*Math.PI*(i-e.start)/(n-i))}),n.addAttribute("groupIndex",new THREE.Float32Attribute(o.length,1).copyArray(o)),n.addAttribute("animationOffset",new THREE.Float32Attribute(r.length,1).copyArray(r));var a=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib.phong.uniforms],{colorMap:{type:"fv",value:this._groupData.colorMap},offsetMap:{type:"fv",value:this._groupData.offsetMap},animationTime:{type:"f",value:-1},animatedColorPart:{type:"c",value:new THREE.Vector3(.07,.07,.07)}}),vertexShader:["#define NUM_GROUPS "+t,"#define ANIMATED","#define ANIMATED_COLOR",i(this._useLights?15:16)].join("\n"),fragmentShader:i(this._useLights?17:18),lights:this._useLights});this._crusts.geometry=n,this._crusts.material=a,this.addObject(this._crusts)}},_updateSurfaces:function(e){if(this._showSurfaces){var t=this._groupData.length,n=(new THREE.BufferGeometry).fromGeometry(e);n.removeAttribute("color");var o=[],r=[];n.groups.forEach(function(e){for(var t=Math.random()*Math.PI*2,i=e.start,n=e.start+e.count;i<n;i++)o.push(e.materialIndex),r.push(t+2*Math.PI*(i-e.start)/(n-i))}),n.addAttribute("groupIndex",new THREE.Float32Attribute(o.length,1).copyArray(o)),n.addAttribute("animationOffset",new THREE.Float32Attribute(r.length,1).copyArray(r));var a=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib.phong.uniforms],{colorMap:{type:"fv",value:this._groupData.colorMap2},offsetMap:{type:"fv",value:this._groupData.offsetMap},animationTime:{type:"f",value:-1},animatedColorPart:{type:"c",value:new THREE.Vector3(.07,.07,.07)}}),vertexShader:["#define NUM_GROUPS "+t,"#define ANIMATED","#define ANIMATED_COLOR",i(this._useLights?15:16)].join("\n"),fragmentShader:i(this._useLights?17:18),lights:this._useLights});this._surfaces.geometry=n,this._surfaces.material=a,this._surfaces.position.z=1.01*this._scaleZ,this.addObject(this._surfaces)}},_updateStrokes:function(e){if(this._showStrokes){var t=this._groupData.length,n=e,o=n._vertices,r=n._indices,a=n._groupIndices;n.addAttribute("position",new THREE.Float32Attribute(3*o.length,3).copyVector3sArray(o)),n.setIndex(new(r.length>65535?THREE.Uint32Attribute:THREE.Uint16Attribute)(r.length,1).copyArray(r)),n.addAttribute("groupIndex",new THREE.Float32Attribute(a.length,1).copyArray(a)),delete n._vertices,delete n._indices,delete n._groupIndices;var s=new THREE.ShaderMaterial({uniforms:{offsetMap:{type:"fv",value:this._groupData.offsetMap},opacity:{type:"f",value:1},diffuse:{type:"c",value:new THREE.Color(this._strokeColor)}},vertexShader:["#define NUM_GROUPS "+t,i(19)].join("\n"),fragmentShader:i(20),side:THREE.DoubleSide});this._strokes.geometry=n,this._strokes.material=s,this._strokes.position.z=1.02*this._scaleZ,this.addObject(this._strokes)}},_updateLabels:function(){var e=this;if(this._labels&&this._labels.length>0&&(this._labels.forEach(function(t){e.removeObject(t)}),this._labels=null),this._showLabels&&this._groupData){var t="#"+new THREE.Color(this._labelFillColor).getHexString(),i="#"+new THREE.Color(this._labelStrokeColor).getHexString();this._labels=[];for(var n=0,o=this._groupData.length;n<o;n++){var r=this._groupData[n],s=this._mapData.features[r.index],c=this._getFeatureValue(s,"zOffset",!0);isNaN(c)&&(c=1);var u=e._getFeatureValue(s,e._labelField,!0);if(u){var h=new THREE.PlaneBufferGeometry(this._scaleX*this._labelScale,this._scaleY*this._labelScale,10,10),l=new THREE.MeshBasicMaterial({map:a.createTextureWithText(u,{fillStyle:t,strokeStyle:i}),depthWrite:!1,transparent:!0}),d=new THREE.Mesh(h,l),p=s.boundingBox.centerX,f=s.boundingBox.centerY,m=e._getFeatureValue(s,e._labelPositionField,!0);m instanceof Array&&(p=m[0],f=m[1]),d.position.x=(p-this._boundingBox.centerX)*this._scaleX,d.position.y=(f-this._boundingBox.centerY)*this._scaleY,d.position.z=e.scaleZ*(c+.05),this.addObject(d),this._labels.push(d),r.label=d,r.labelPosition=d.position.clone()}}}},commitProperties:function(){var e=this;if(this._invalidateGeometryFlag){this.removeObject(this._crusts),this.removeObject(this._surfaces),this.removeObject(this._strokes);var t=new THREE.Geometry,i=new THREE.Geometry,n=new THREE.BufferGeometry;this._mapData.features.forEach(function(o,r){var a=o.geometry;if("MultiPolygon"==a.type)a.coordinates.forEach(function(a){var s=e._createShape(a),c=e._createCrustGeometry(s,o);t.merge2(c,void 0,r);var u=e._createSurfaceGeometry(s,o);i.merge2(u,void 0,r);var h=e._createStrokeGeometry(s,o);e._mergeStrokeGeometry(h,n,r)});else if("Polygon"==a.type){var s=e._createShape(a.coordinates),c=e._createCrustGeometry(s,o);t.merge2(c,void 0,r);var u=e._createSurfaceGeometry(s,o);i.merge2(u,void 0,r);var h=e._createStrokeGeometry(s,o);e._mergeStrokeGeometry(h,n,r)}else console.warn("Unsupported geometry:",a)}),this._updateGroupData(),this._updateCrusts(t),this._updateSurfaces(i),this._updateStrokes(n),this._updateLabels(),this._invalidateGeometryFlag=!1}this._invalidateXYFlag&&(this._invalidateXYFlag=!1),this._invalidateItemDataFlag&&(this._itemData&&this._itemData.forEach(function(t){e._itemDataUpdated(t)}),this._invalidateItemDataFlag=!1)},_itemDataUpdated:function(e){var t=this._groupIdMap[e.id];t&&(t.item=e,e.color&&t.colorTo(new THREE.Color(e.color)),e.offset&&"object"==typeof e.offset&&t.offset(e.offset))},lonLatToXY:function(e,t){return new THREE.Vector2((e-this._boundingBox.centerX)*this._scaleX,(t-this._boundingBox.centerY)*this._scaleY)},getFeature:function(e){return this._featureIdMap[e]}}),e.exports=f},function(e,t){function i(e){n||(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));var t=n.getContext("2d");e&&t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.width,n.height),e&&t.restore(),n.width=256,n.height=256}var n,o=4096,r={get canvas(){return i(),n},createTextureWithText:function(e,t){t=t||{},i();var o=t.adaptable===!0;if(o){var r=t.direction||0;g=t.fontSize||256;var a=g;this.isPowerOfTwo(a)||(a=this.getBestPowerOf2(a));var s=t.maxSize||g*e.length;this.isPowerOfTwo(s)||(s=this.getBestPowerOf2(s)),n.width=r?a:s,n.height=r?s:a,_=n.getContext("2d"),_.font="normal normal bolder "+g+"px ",_.textBaseline="middle",_.fillStyle=t.fillStyle||"#FFFFFF",_.strokeStyle=t.strokeStyle||"#000000";for(var c=0,u=r?Math.round((n.width-g)/2):0,h=r?0:Math.round((n.height-g)/2),l=g/2,d=0,p=e.length;d<p;d++){var f=g*d,m=e.charAt(d);v=(r?c:f)+u,b=(r?f:c)+h+l,_.fillText(m,v,b),_.strokeText(m,v,b)}}else{var _=n.getContext("2d"),g=Math.floor(Math.min(n.width,n.height)/e.length);_.font="normal normal bolder "+g+"px ",_.textBaseline="middle";var v=(n.width-e.length*g)/2,b=n.height/2;_.fillStyle=t.fillStyle||"#FFFFFF",_.fillText(e,v,b),_.strokeStyle=t.strokeStyle||"#000000",_.strokeText(e,v,b)}var E=new Image;E.src=n.toDataURL(),E._width=n.width,E._height=n.height;var y=new THREE.Texture(E);return y.needsUpdate=!0,y},createTextureWithSolidColor:function(e){i();var t=n.getContext("2d");t.fillStyle=e||"#FFFFFF",t.fillRect(0,0,n.width,n.height);var o=new Image;o.src=n.toDataURL();var r=new THREE.Texture(o);return r.needsUpdate=!0,r},createRadialTexture:function(e,t,o){if(!e||!t||!o||t.length!=e.length||o.length!=e.length)throw new Error("Illegal parameters.");i();var r=n.width/2,a=n.height/2,s=Math.min(n.width,n.height)/2,c=n.getContext("2d"),u=c.createRadialGradient(r,a,0,r,a,s);e.forEach(function(e,i){var n=t[i],r=o[i];u.addColorStop(r,["rgba(",e>>16&255,",",e>>8&255,",",255&e,",",n,")"].join(""))}),c.fillStyle=u,c.fillRect(0,0,n.width,n.height);var h=new Image;h.src=n.toDataURL();var l=new THREE.Texture(h);return l.needsUpdate=!0,l},isPowerOfTwo:function(e){return!!e&&(e&-e)==e},getBestPowerOf2:function(e){for(var t=1;t<e;)t<<=1;return t>o&&(t=o),t},expandLineToPipeline:function(e){for(var t=e.attributes.position,i=t.array,n=[],o=0,r=t.count,a=3*o;o<r;o++,a+=3){var s=new THREE.Vector3(i[a],i[a+1],i[a+2]);n.push(s.x,s.z)}}};Object.freeze(r),e.exports=r},function(e,t){function i(e,t,i,n){this.minX=e||Number.MAX_VALUE,this.minY=t||Number.MAX_VALUE,this.maxX=i||Number.MIN_VALUE,this.maxY=n||Number.MIN_VALUE}i.prototype={constructor:i,minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:Number.MIN_VALUE,maxY:Number.MIN_VALUE,expand:function(e,t){this.minX>e&&(this.minX=e),this.minY>t&&(this.minY=t),this.maxX<e&&(this.maxX=e),this.maxY<t&&(this.maxY=t)},contains:function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}},e.exports=i},function(e,t){e.exports="#ifdef NUM_GROUPS\nuniform vec3 offsetMap[NUM_GROUPS];\nuniform vec3 colorMap[NUM_GROUPS];\nattribute float groupIndex;\n#endif\n"},function(e,t){e.exports="    #ifdef NUM_GROUPS\n    int mapIndex = int(groupIndex);\n    vec3 offset = offsetMap[mapIndex];\n    transformed += offset;\n    vec3 color = colorMap[mapIndex];\n    diffuse = color;\n    #endif\n    "},function(e,t){e.exports="#ifdef ANIMATED\nuniform float animationTime;\nattribute float animationOffset;\n#endif\n"},function(e,t){e.exports="#ifdef ANIMATED_COLOR\nuniform vec3 animatedColorPart;\n#endif\n"},function(e,t){e.exports="    #ifdef ANIMATED_COLOR\n    if (animationTime >= 0.) {\n        float t = (1. + sin(animationTime + animationOffset)) / 2.;\n        diffuse.rgb += animatedColorPart.rgb * t;\n    }\n    #endif\n"},function(e,t){e.exports="/*!\n * Jusfoun Threejs Shader Library v0.1\n * Powered by Jusfoun Visualization Department\n * Contact:\n *   vd@jusfoun.com\n *   http://vd.jusfoun.com\n *\n * Copyright (c) 2017, Jusfoun Big Data Group Inc.\n * All rights reserved.\n *\n * LICENSE\n * http://www.jusfoun.com/software/LICENSE.txt\n */\n#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#include <grouped_pars_vertex>\n#include <animated_pars_vertex>\n#include <animated_color_pars_vertex>\nvarying vec3 diffuse;\nvoid main() {\n    #include <uv_vertex>\n    #include <uv2_vertex>\n    #include <color_vertex>\n    #include <beginnormal_vertex>\n    #include <morphnormal_vertex>\n    #include <skinbase_vertex>\n    #include <skinnormal_vertex>\n    #include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n    vNormal = normalize( transformedNormal );\n#endif\n    #include <begin_vertex>\n    #include <grouped_vertex>\n    #include <animated_color_vertex>\n    #include <displacementmap_vertex>\n    #include <morphtarget_vertex>\n    #include <skinning_vertex>\n    #include <project_vertex>\n    #include <logdepthbuf_vertex>\n    #include <clipping_planes_vertex>\n    vViewPosition = - mvPosition.xyz;\n    #include <worldpos_vertex>\n    #include <envmap_vertex>\n    #include <shadowmap_vertex>\n}"},function(e,t){e.exports="/*!\n * Jusfoun Threejs Shader Library v0.1\n * Powered by Jusfoun Visualization Department\n * Contact:\n *   vd@jusfoun.com\n *   http://vd.jusfoun.com\n *\n * Copyright (c) 2017, Jusfoun Big Data Group Inc.\n * All rights reserved.\n *\n * LICENSE\n * http://www.jusfoun.com/software/LICENSE.txt\n */\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#include <grouped_pars_vertex>\n#include <animated_pars_vertex>\n#include <animated_color_pars_vertex>\nvarying vec3 diffuse;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n    #include <grouped_vertex>\n    #include <animated_color_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}"},function(e,t){e.exports="/*!\n * Jusfoun Threejs Shader Library v0.1\n * Powered by Jusfoun Visualization Department\n * Contact:\n *   vd@jusfoun.com\n *   http://vd.jusfoun.com\n *\n * Copyright (c) 2017, Jusfoun Big Data Group Inc.\n * All rights reserved.\n *\n * LICENSE\n * http://www.jusfoun.com/software/LICENSE.txt\n */\n#define PHONG\nvarying vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n    #include <clipping_planes_fragment>\n    vec4 diffuseColor = vec4( diffuse, opacity );\n    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n    vec3 totalEmissiveRadiance = emissive;\n    #include <logdepthbuf_fragment>\n    #include <map_fragment>\n    #include <color_fragment>\n    #include <alphamap_fragment>\n    #include <alphatest_fragment>\n    #include <specularmap_fragment>\n    #include <normal_flip>\n    #include <normal_fragment>\n    #include <emissivemap_fragment>\n    #include <lights_phong_fragment>\n    #include <lights_template>\n    #include <aomap_fragment>\n    vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n    #include <envmap_fragment>\n    gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n    #include <premultiplied_alpha_fragment>\n    #include <tonemapping_fragment>\n    #include <encodings_fragment>\n    #include <fog_fragment>\n}"},function(e,t){e.exports="/*!\n * Jusfoun Threejs Shader Library v0.1\n * Powered by Jusfoun Visualization Department\n * Contact:\n *   vd@jusfoun.com\n *   http://vd.jusfoun.com\n *\n * Copyright (c) 2017, Jusfoun Big Data Group Inc.\n * All rights reserved.\n *\n * LICENSE\n * http://www.jusfoun.com/software/LICENSE.txt\n */\nvarying vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},function(e,t){e.exports="/*!\n * Jusfoun Threejs Shader Library v0.1\n * Powered by Jusfoun Visualization Department\n * Contact:\n *   vd@jusfoun.com\n *   http://vd.jusfoun.com\n *\n * Copyright (c) 2017, Jusfoun Big Data Group Inc.\n * All rights reserved.\n *\n * LICENSE\n * http://www.jusfoun.com/software/LICENSE.txt\n */\n#ifdef NUM_GROUPS\nuniform vec3 offsetMap[NUM_GROUPS];\n#endif\nattribute float groupIndex;\nvoid main() {\n    vec3 mvPosition = position;\n    #ifdef NUM_GROUPS\n    int mapIndex = int(groupIndex);\n    vec3 offset = offsetMap[mapIndex];\n    mvPosition += offset;\n    #endif\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(mvPosition, 1.0);\n}"},function(e,t){e.exports="/*!\n * Jusfoun Threejs Shader Library v0.1\n * Powered by Jusfoun Visualization Department\n * Contact:\n *   vd@jusfoun.com\n *   http://vd.jusfoun.com\n *\n * Copyright (c) 2017, Jusfoun Big Data Group Inc.\n * All rights reserved.\n *\n * LICENSE\n * http://www.jusfoun.com/software/LICENSE.txt\n */\nuniform vec3 diffuse;\nuniform float opacity;\nvoid main() {\n    gl_FragColor = vec4(diffuse, opacity);\n}"},function(e,t,i){var n=i(1),o=n.CommonLib,r=o.forge,a=i(7),s=i(22);s.features[0].geometry.coordinates.forEach(function(e){e.forEach(function(e){e.forEach(function(e){e[1]=-e[1]})})});var c=function(){a.call(this),this.mapData=s};c.prototype=r(a.prototype,{constructor:c}),e.exports=c},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",id:"460300",properties:{name:"",cp:[126,25],geoCoord:[126,25]},geometry:{type:"MultiPolygon",coordinates:[[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]]],[[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]]],[[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]]],[[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]]],[[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]]],[[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]]],[[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]]],[[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]]],[[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]]],[[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]]],[[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]]],[[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]]]}}]}},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",id:"110000",properties:{name:"",cp:[116.4551,40.2539]},geometry:{type:"Polygon",coordinates:[[[117.4219,40.21],[117.334,40.1221],[117.2461,40.0781],[116.8066,39.9902],[116.8945,39.8145],[116.8945,39.6826],[116.8066,39.5947],[116.543,39.5947],[116.3672,39.4629],[116.1914,39.5947],[115.752,39.5068],[115.4883,39.6387],[115.4004,39.9463],[115.9277,40.2539],[115.752,40.5615],[116.1035,40.6055],[116.1914,40.7813],[116.4551,40.7813],[116.3672,40.9131],[116.6309,41.0449],[116.9824,40.6934],[117.4219,40.6494],[117.2461,40.5176],[117.4219,40.21]]]}},{type:"Feature",id:"120000",properties:{name:"",cp:[117.4219,39.4189]},geometry:{type:"Polygon",coordinates:[[[116.8066,39.5947],[116.8945,39.6826],[117.1582,39.6387],[117.1582,39.8145],[117.2461,40.0781],[117.334,40.1221],[117.4219,40.21],[117.6855,40.0781],[117.6855,39.9902],[117.5098,39.9902],[117.5098,39.7705],[117.6855,39.5947],[117.9492,39.5947],[117.8613,39.4189],[118.0371,39.2432],[118.0371,39.1992],[117.8613,39.1113],[117.5977,38.6279],[117.2461,38.54],[116.7188,38.8037],[116.7188,38.9355],[116.8945,39.1113],[116.8066,39.5947]]]}},{type:"Feature",id:"130000",properties:{name:"",cp:[115.4004,37.9688]},geometry:{type:"MultiPolygon",coordinates:[[[[114.5215,39.5068],[114.3457,39.8584],[113.9941,39.9902],[114.5215,40.3418],[114.3457,40.3857],[114.2578,40.6055],[114.082,40.7373],[113.9063,41.1328],[113.9941,41.2207],[113.9063,41.4404],[114.2578,41.5723],[114.1699,41.792],[114.5215,42.1436],[114.873,42.0996],[114.9609,41.6162],[115.2246,41.5723],[115.9277,41.9238],[116.0156,41.792],[116.2793,42.0117],[116.8066,42.0117],[116.8945,42.4072],[117.334,42.4512],[117.5098,42.583],[117.7734,42.627],[118.0371,42.4072],[117.9492,42.2314],[118.125,42.0557],[118.3008,42.0996],[118.3008,41.792],[118.125,41.748],[118.3887,41.3086],[119.2676,41.3086],[118.8281,40.8252],[119.2676,40.5176],[119.5313,40.5615],[119.707,40.1221],[119.8828,39.9463],[119.5313,39.6826],[119.4434,39.4189],[118.916,39.0674],[118.4766,38.9355],[118.125,39.0234],[118.0371,39.1992],[118.0371,39.2432],[117.8613,39.4189],[117.9492,39.5947],[117.6855,39.5947],[117.5098,39.7705],[117.5098,39.9902],[117.6855,39.9902],[117.6855,40.0781],[117.4219,40.21],[117.2461,40.5176],[117.4219,40.6494],[116.9824,40.6934],[116.6309,41.0449],[116.3672,40.9131],[116.4551,40.7813],[116.1914,40.7813],[116.1035,40.6055],[115.752,40.5615],[115.9277,40.2539],[115.4004,39.9463],[115.4883,39.6387],[115.752,39.5068],[116.1914,39.5947],[116.3672,39.4629],[116.543,39.5947],[116.8066,39.5947],[116.8945,39.1113],[116.7188,38.9355],[116.7188,38.8037],[117.2461,38.54],[117.5977,38.6279],[117.9492,38.3203],[117.4219,37.8369],[116.8066,37.8369],[116.4551,37.4854],[116.2793,37.5732],[116.2793,37.3535],[116.0156,37.3535],[115.752,36.9141],[115.3125,36.5186],[115.4883,36.167],[115.3125,36.0791],[115.1367,36.2109],[114.9609,36.0791],[114.873,36.123],[113.7305,36.3428],[113.4668,36.6504],[113.7305,36.8701],[113.7305,37.1338],[114.1699,37.6611],[113.9941,37.7051],[113.8184,38.1445],[113.5547,38.2764],[113.5547,38.54],[113.8184,38.8037],[113.8184,38.9355],[113.9063,39.0234],[114.3457,39.0674],[114.5215,39.5068]]],[[[117.2461,40.0781],[117.1582,39.8145],[117.1582,39.6387],[116.8945,39.6826],[116.8945,39.8145],[116.8066,39.9902],[117.2461,40.0781]]]]}},{type:"Feature",id:"140000",properties:{name:"",cp:[112.4121,37.6611]},geometry:{type:"Polygon",coordinates:[[[110.918,38.7158],[111.1816,39.2432],[111.0938,39.375],[111.3574,39.4189],[111.4453,39.6387],[111.9727,39.5947],[112.3242,40.2539],[112.7637,40.166],[113.2031,40.3857],[113.5547,40.3418],[113.8184,40.5176],[114.082,40.5176],[114.082,40.7373],[114.2578,40.6055],[114.3457,40.3857],[114.5215,40.3418],[113.9941,39.9902],[114.3457,39.8584],[114.5215,39.5068],[114.3457,39.0674],[113.9063,39.0234],[113.8184,38.9355],[113.8184,38.8037],[113.5547,38.54],[113.5547,38.2764],[113.8184,38.1445],[113.9941,37.7051],[114.1699,37.6611],[113.7305,37.1338],[113.7305,36.8701],[113.4668,36.6504],[113.7305,36.3428],[113.6426,35.6836],[113.1152,35.332],[112.7637,35.2002],[112.0605,35.2881],[112.0605,35.0684],[111.7969,35.0684],[111.5332,34.8486],[111.1816,34.8047],[110.8301,34.6289],[110.3906,34.585],[110.2148,34.6729],[110.2148,34.8926],[110.5664,35.6396],[110.4785,36.123],[110.3906,37.002],[110.8301,37.6611],[110.4785,37.9688],[110.4785,38.1885],[110.8301,38.4961],[110.918,38.7158]]]}},{type:"Feature",id:"150000",properties:{name:"",cp:[117.5977,44.3408]},geometry:{type:"Polygon",coordinates:[[[97.207,42.8027],[99.4922,42.583],[100.8105,42.6709],[101.7773,42.4951],[102.041,42.2314],[102.7441,42.1436],[103.3594,41.8799],[103.8867,41.792],[104.502,41.8799],[104.502,41.6602],[105.0293,41.5723],[105.7324,41.9238],[107.4023,42.4512],[109.4238,42.4512],[110.3906,42.7588],[111.0059,43.3301],[111.9727,43.6816],[111.9727,43.8135],[111.4453,44.3848],[111.7969,45],[111.9727,45.0879],[113.6426,44.7363],[114.1699,44.9561],[114.5215,45.3955],[115.6641,45.4395],[116.1914,45.7031],[116.2793,45.9668],[116.543,46.2744],[117.334,46.3623],[117.4219,46.582],[117.7734,46.5381],[118.3008,46.7578],[118.7402,46.7139],[118.916,46.7578],[119.0918,46.6699],[119.707,46.626],[119.9707,46.7139],[119.707,47.1973],[118.4766,47.9883],[117.8613,48.0322],[117.334,47.6807],[116.8066,47.9004],[116.1914,47.8564],[115.9277,47.6807],[115.5762,47.9004],[115.4883,48.1641],[115.8398,48.252],[115.8398,48.5596],[116.7188,49.834],[117.7734,49.5264],[118.5645,49.9219],[119.2676,50.0977],[119.3555,50.3174],[119.1797,50.3613],[119.5313,50.7568],[119.5313,50.8887],[119.707,51.0645],[120.1465,51.6797],[120.6738,51.9434],[120.7617,52.1191],[120.7617,52.251],[120.5859,52.3389],[120.6738,52.5146],[120.4102,52.6465],[120.0586,52.6025],[120.0586,52.7344],[120.8496,53.2617],[121.4648,53.3496],[121.8164,53.042],[121.2012,52.5586],[121.6406,52.4268],[121.7285,52.2949],[121.9922,52.2949],[122.168,52.5146],[122.6953,52.251],[122.6074,52.0752],[122.959,51.3281],[123.3105,51.2402],[123.6621,51.3721],[124.3652,51.2842],[124.541,51.3721],[124.8926,51.3721],[125.0684,51.6357],[125.332,51.6357],[126.0352,51.0205],[125.7715,50.7568],[125.7715,50.5371],[125.332,50.1416],[125.1563,49.834],[125.2441,49.1748],[124.8047,49.1309],[124.4531,48.1201],[124.2773,48.5156],[122.4316,47.373],[123.0469,46.7139],[123.3984,46.8896],[123.3984,46.9775],[123.4863,46.9775],[123.5742,46.8457],[123.5742,46.8896],[123.5742,46.6699],[123.0469,46.582],[123.2227,46.2305],[122.7832,46.0107],[122.6953,45.7031],[122.4316,45.8789],[122.2559,45.791],[121.8164,46.0107],[121.7285,45.7471],[121.9043,45.7031],[122.2559,45.2637],[122.0801,44.8682],[122.3438,44.2529],[123.1348,44.4727],[123.4863,43.7256],[123.3105,43.5059],[123.6621,43.374],[123.5742,43.0225],[123.3105,42.9785],[123.1348,42.8027],[122.7832,42.7148],[122.3438,42.8467],[122.3438,42.6709],[121.9922,42.7148],[121.7285,42.4512],[121.4648,42.4951],[120.498,42.0996],[120.1465,41.7041],[119.8828,42.1875],[119.5313,42.3633],[119.3555,42.2754],[119.2676,41.7041],[119.4434,41.6162],[119.2676,41.3086],[118.3887,41.3086],[118.125,41.748],[118.3008,41.792],[118.3008,42.0996],[118.125,42.0557],[117.9492,42.2314],[118.0371,42.4072],[117.7734,42.627],[117.5098,42.583],[117.334,42.4512],[116.8945,42.4072],[116.8066,42.0117],[116.2793,42.0117],[116.0156,41.792],[115.9277,41.9238],[115.2246,41.5723],[114.9609,41.6162],[114.873,42.0996],[114.5215,42.1436],[114.1699,41.792],[114.2578,41.5723],[113.9063,41.4404],[113.9941,41.2207],[113.9063,41.1328],[114.082,40.7373],[114.082,40.5176],[113.8184,40.5176],[113.5547,40.3418],[113.2031,40.3857],[112.7637,40.166],[112.3242,40.2539],[111.9727,39.5947],[111.4453,39.6387],[111.3574,39.4189],[111.0938,39.375],[111.0938,39.5947],[110.6543,39.2871],[110.127,39.4629],[110.2148,39.2871],[109.8633,39.2432],[109.9512,39.1553],[108.9844,38.3203],[109.0723,38.0127],[108.8965,37.9688],[108.8086,38.0127],[108.7207,37.7051],[108.1934,37.6172],[107.666,37.8809],[107.3145,38.1006],[106.7871,38.1885],[106.5234,38.3203],[106.9629,38.9795],[106.7871,39.375],[106.3477,39.2871],[105.9082,38.7158],[105.8203,37.793],[104.3262,37.4414],[103.4473,37.8369],[103.3594,38.0127],[103.5352,38.1445],[103.4473,38.3643],[104.2383,38.9795],[104.0625,39.4189],[103.3594,39.3311],[103.0078,39.1113],[102.4805,39.2432],[101.8652,39.1113],[102.041,38.8916],[101.7773,38.6719],[101.3379,38.7598],[101.25,39.0234],[100.9863,38.9355],[100.8105,39.4189],[100.5469,39.4189],[100.0195,39.7705],[99.4922,39.8584],[100.1074,40.2539],[100.1953,40.6494],[99.9316,41.001],[99.2285,40.8691],[99.0527,40.6934],[98.9648,40.7813],[98.7891,40.6055],[98.5254,40.7373],[98.6133,40.6494],[98.3496,40.5615],[98.3496,40.9131],[97.4707,41.4844],[97.8223,41.6162],[97.8223,41.748],[97.207,42.8027]]]
}},{type:"Feature",id:"210000",properties:{name:"",cp:[122.3438,41.0889]},geometry:{type:"Polygon",coordinates:[[[119.2676,41.3086],[119.4434,41.6162],[119.2676,41.7041],[119.3555,42.2754],[119.5313,42.3633],[119.8828,42.1875],[120.1465,41.7041],[120.498,42.0996],[121.4648,42.4951],[121.7285,42.4512],[121.9922,42.7148],[122.3438,42.6709],[122.3438,42.8467],[122.7832,42.7148],[123.1348,42.8027],[123.3105,42.9785],[123.5742,43.0225],[123.6621,43.374],[123.8379,43.4619],[124.2773,43.2422],[124.4531,42.8467],[124.7168,43.0664],[124.8926,43.0664],[124.8926,42.8027],[125.332,42.1436],[125.4199,42.0996],[125.332,41.9678],[125.332,41.6602],[125.7715,41.2207],[125.5957,40.9131],[125.6836,40.8691],[124.541,40.21],[124.1016,39.6826],[123.3984,39.6826],[123.1348,39.4189],[123.1348,39.0234],[122.0801,39.0234],[121.5527,38.7158],[121.1133,38.6719],[120.9375,38.9795],[121.377,39.1992],[121.2012,39.5508],[122.0801,40.3857],[121.9922,40.6934],[121.7285,40.8252],[121.2012,40.8252],[120.5859,40.21],[119.8828,39.9463],[119.707,40.1221],[119.5313,40.5615],[119.2676,40.5176],[118.8281,40.8252],[119.2676,41.3086]]]}},{type:"Feature",id:"220000",properties:{name:"",cp:[126.4746,43.5938]},geometry:{type:"Polygon",coordinates:[[[123.2227,46.2305],[123.9258,46.2305],[124.0137,45.7471],[124.3652,45.4395],[124.8926,45.5273],[125.0684,45.3955],[125.6836,45.5273],[125.7715,45.3076],[126.0352,45.1758],[126.5625,45.2637],[126.9141,45.1318],[127.0898,45],[127.002,44.7803],[127.0898,44.6045],[127.5293,44.6045],[127.7051,44.1211],[128.0566,44.1211],[128.0566,44.3408],[128.4082,44.4727],[128.4961,44.165],[128.8477,43.5498],[129.1992,43.5938],[129.2871,43.8135],[129.8145,43.9014],[129.9023,44.0332],[129.9902,43.8574],[130.3418,43.9893],[130.5176,43.6377],[130.8691,43.418],[131.3086,43.4619],[131.3086,43.3301],[131.1328,42.9346],[130.4297,42.7148],[130.6055,42.6709],[130.6055,42.4512],[130.2539,42.7588],[130.2539,42.8906],[130.166,42.9785],[129.9023,43.0225],[129.7266,42.4951],[129.375,42.4512],[128.9355,42.0117],[128.0566,42.0117],[128.3203,41.5723],[128.1445,41.3525],[127.0898,41.5283],[127.1777,41.5723],[126.9141,41.792],[126.6504,41.6602],[126.4746,41.3965],[126.123,40.957],[125.6836,40.8691],[125.5957,40.9131],[125.7715,41.2207],[125.332,41.6602],[125.332,41.9678],[125.4199,42.0996],[125.332,42.1436],[124.8926,42.8027],[124.8926,43.0664],[124.7168,43.0664],[124.4531,42.8467],[124.2773,43.2422],[123.8379,43.4619],[123.6621,43.374],[123.3105,43.5059],[123.4863,43.7256],[123.1348,44.4727],[122.3438,44.2529],[122.0801,44.8682],[122.2559,45.2637],[121.9043,45.7031],[121.7285,45.7471],[121.8164,46.0107],[122.2559,45.791],[122.4316,45.8789],[122.6953,45.7031],[122.7832,46.0107],[123.2227,46.2305]]]}},{type:"Feature",id:"230000",properties:{name:"",cp:[128.1445,48.5156]},geometry:{type:"Polygon",coordinates:[[[121.4648,53.3496],[123.6621,53.5693],[124.8926,53.0859],[125.0684,53.2178],[125.5957,53.0859],[125.6836,52.9102],[126.123,52.7783],[126.0352,52.6025],[126.2109,52.5146],[126.3867,52.2949],[126.3867,52.207],[126.5625,52.1631],[126.4746,51.9434],[126.9141,51.3721],[126.8262,51.2842],[127.002,51.3281],[126.9141,51.1084],[127.2656,50.7568],[127.3535,50.2734],[127.6172,50.2295],[127.5293,49.8779],[127.793,49.6143],[128.7598,49.5703],[129.1113,49.3506],[129.4629,49.4385],[130.2539,48.8672],[130.6934,48.8672],[130.5176,48.6475],[130.8691,48.2959],[130.6934,48.1201],[131.0449,47.6807],[132.5391,47.7246],[132.627,47.9443],[133.0664,48.1201],[133.5059,48.1201],[134.209,48.3838],[135.0879,48.4277],[134.7363,48.252],[134.5605,47.9883],[134.7363,47.6807],[134.5605,47.4609],[134.3848,47.4609],[134.209,47.2852],[134.209,47.1533],[133.8574,46.5381],[133.9453,46.2744],[133.5059,45.835],[133.418,45.5713],[133.2422,45.5273],[133.0664,45.1318],[132.8906,45.0439],[131.9238,45.3516],[131.5723,45.0439],[131.0449,44.8682],[131.3086,44.0771],[131.2207,43.7256],[131.3086,43.4619],[130.8691,43.418],[130.5176,43.6377],[130.3418,43.9893],[129.9902,43.8574],[129.9023,44.0332],[129.8145,43.9014],[129.2871,43.8135],[129.1992,43.5938],[128.8477,43.5498],[128.4961,44.165],[128.4082,44.4727],[128.0566,44.3408],[128.0566,44.1211],[127.7051,44.1211],[127.5293,44.6045],[127.0898,44.6045],[127.002,44.7803],[127.0898,45],[126.9141,45.1318],[126.5625,45.2637],[126.0352,45.1758],[125.7715,45.3076],[125.6836,45.5273],[125.0684,45.3955],[124.8926,45.5273],[124.3652,45.4395],[124.0137,45.7471],[123.9258,46.2305],[123.2227,46.2305],[123.0469,46.582],[123.5742,46.6699],[123.5742,46.8896],[123.5742,46.8457],[123.4863,46.9775],[123.3984,46.9775],[123.3984,46.8896],[123.0469,46.7139],[122.4316,47.373],[124.2773,48.5156],[124.4531,48.1201],[124.8047,49.1309],[125.2441,49.1748],[125.1563,49.834],[125.332,50.1416],[125.7715,50.5371],[125.7715,50.7568],[126.0352,51.0205],[125.332,51.6357],[125.0684,51.6357],[124.8926,51.3721],[124.541,51.3721],[124.3652,51.2842],[123.6621,51.3721],[123.3105,51.2402],[122.959,51.3281],[122.6074,52.0752],[122.6953,52.251],[122.168,52.5146],[121.9922,52.2949],[121.7285,52.2949],[121.6406,52.4268],[121.2012,52.5586],[121.8164,53.042],[121.4648,53.3496]]]}},{type:"Feature",id:"310000",properties:{name:"",cp:[121.4648,31.2891]},geometry:{type:"Polygon",coordinates:[[[120.9375,31.0254],[121.2012,31.4648],[121.377,31.5088],[121.1133,31.7285],[121.2012,31.8604],[121.9922,31.5967],[121.9043,31.1572],[121.9922,30.8057],[121.2891,30.6738],[120.9375,31.0254]]]}},{type:"Feature",id:"320000",properties:{name:"",cp:[120.0586,32.915]},geometry:{type:"Polygon",coordinates:[[[116.3672,34.6289],[116.4551,34.8926],[116.8066,34.9365],[117.2461,34.4531],[117.334,34.585],[117.5977,34.4531],[117.9492,34.6729],[118.125,34.6289],[118.2129,34.4092],[118.3887,34.4092],[118.4766,34.6729],[118.7402,34.7168],[118.916,35.0244],[119.2676,35.1123],[119.3555,35.0244],[119.3555,34.8486],[119.707,34.585],[120.3223,34.3652],[120.9375,33.0469],[121.0254,32.6514],[121.377,32.4756],[121.4648,32.168],[121.9043,31.9922],[121.9922,31.6846],[121.9922,31.5967],[121.2012,31.8604],[121.1133,31.7285],[121.377,31.5088],[121.2012,31.4648],[120.9375,31.0254],[120.498,30.8057],[119.9707,31.1572],[119.6191,31.1133],[119.4434,31.1572],[119.3555,31.2891],[118.8281,31.2451],[118.7402,31.377],[118.916,31.5527],[118.3887,31.9482],[118.4766,32.168],[118.6523,32.2119],[118.5645,32.5635],[119.1797,32.4756],[119.1797,32.8271],[118.916,32.959],[118.7402,32.7393],[118.3008,32.7832],[118.2129,33.2227],[118.0371,33.1348],[117.9492,33.2227],[118.125,33.75],[117.7734,33.7061],[117.5977,34.0137],[117.1582,34.0576],[116.8945,34.4092],[116.3672,34.6289]]]}},{type:"Feature",id:"330000",properties:{name:"",cp:[120.498,29.0918]},geometry:{type:"Polygon",coordinates:[[[118.2129,29.3994],[118.7402,29.707],[118.916,29.9707],[118.916,30.3223],[119.3555,30.4102],[119.2676,30.6299],[119.4434,30.6738],[119.6191,31.0693],[119.6191,31.1133],[119.9707,31.1572],[120.498,30.8057],[120.9375,31.0254],[121.2891,30.6738],[121.9922,30.8057],[122.6953,30.8936],[122.8711,30.7178],[122.959,30.1465],[122.6074,30.1025],[122.6074,29.9268],[122.168,29.5313],[122.3438,28.8721],[121.9922,28.8721],[121.9922,28.4326],[121.7285,28.3447],[121.7285,28.2129],[121.4648,28.2129],[121.5527,28.0371],[121.2891,27.9492],[121.1133,27.4219],[120.6738,27.334],[120.6738,27.1582],[120.9375,27.0264],[120.7617,27.0264],[120.4102,27.1582],[120.2344,27.4219],[119.7949,27.29],[119.6191,27.6855],[119.2676,27.4219],[118.916,27.4658],[118.7402,28.0371],[118.8281,28.2568],[118.4766,28.3008],[118.4766,28.3447],[118.3887,28.7842],[118.0371,29.0479],[118.0371,29.1797],[118.2129,29.3994]]]}},{type:"Feature",id:"340000",properties:{name:"",cp:[117.2461,32.0361]},geometry:{type:"Polygon",coordinates:[[[116.6309,33.9258],[116.543,34.2773],[116.1914,34.4092],[116.1914,34.585],[116.3672,34.6289],[116.8945,34.4092],[117.1582,34.0576],[117.5977,34.0137],[117.7734,33.7061],[118.125,33.75],[117.9492,33.2227],[118.0371,33.1348],[118.2129,33.2227],[118.3008,32.7832],[118.7402,32.7393],[118.916,32.959],[119.1797,32.8271],[119.1797,32.4756],[118.5645,32.5635],[118.6523,32.2119],[118.4766,32.168],[118.3887,31.9482],[118.916,31.5527],[118.7402,31.377],[118.8281,31.2451],[119.3555,31.2891],[119.4434,31.1572],[119.6191,31.1133],[119.6191,31.0693],[119.4434,30.6738],[119.2676,30.6299],[119.3555,30.4102],[118.916,30.3223],[118.916,29.9707],[118.7402,29.707],[118.2129,29.3994],[118.0371,29.5752],[117.5098,29.6191],[117.1582,29.9268],[117.0703,29.8389],[117.1582,29.707],[116.7188,29.6191],[116.7188,29.751],[116.8945,29.9268],[116.7188,30.0586],[116.2793,29.7949],[116.1035,29.8389],[116.1035,30.1904],[115.752,30.6738],[116.0156,31.0254],[115.5762,31.2012],[115.4004,31.4209],[115.4883,31.6846],[115.9277,31.7725],[115.8398,32.5195],[115.5762,32.4316],[115.2246,32.6074],[115.1367,32.8711],[114.873,33.0029],[114.873,33.1348],[115.3125,33.1787],[115.4004,33.5303],[115.5762,33.6621],[115.5762,33.9258],[115.6641,34.0576],[116.0156,33.9697],[116.1914,33.7061],[116.6309,33.9258]]]}},{type:"Feature",id:"350000",properties:{name:"",cp:[118.3008,25.9277]},geometry:{type:"Polygon",coordinates:[[[118.4766,28.3008],[118.8281,28.2568],[118.7402,28.0371],[118.916,27.4658],[119.2676,27.4219],[119.6191,27.6855],[119.7949,27.29],[120.2344,27.4219],[120.4102,27.1582],[120.7617,27.0264],[120.6738,26.8945],[120.2344,26.8506],[120.2344,26.7188],[120.4102,26.6748],[120.498,26.3672],[120.2344,26.2793],[120.4102,26.1475],[120.0586,26.1914],[119.9707,25.9277],[119.7949,25.9277],[119.9707,25.4004],[119.7949,25.2686],[119.5313,25.1367],[119.4434,25.0049],[119.2676,25.0928],[118.916,24.8291],[118.6523,24.5215],[118.4766,24.5215],[118.4766,24.4336],[118.2129,24.3457],[118.2129,24.1699],[117.8613,23.9941],[117.7734,23.7744],[117.5098,23.5986],[117.1582,23.5547],[116.9824,23.9063],[116.9824,24.1699],[116.7188,24.6533],[116.543,24.6094],[116.3672,24.873],[116.2793,24.7852],[115.9277,24.917],[115.8398,25.2246],[116.0156,25.2686],[116.1914,25.8838],[116.4551,26.1035],[116.3672,26.2354],[116.6309,26.4551],[116.543,26.8066],[117.0703,27.1143],[117.1582,27.29],[116.9824,27.6416],[117.5098,27.9932],[117.7734,27.8174],[118.3008,28.0811],[118.4766,28.3008]]]}},{type:"Feature",id:"360000",properties:{name:"",cp:[116.0156,27.29]},geometry:{type:"Polygon",coordinates:[[[114.2578,28.3447],[114.082,28.5645],[114.1699,28.8281],[113.9063,29.0479],[114.2578,29.3555],[114.873,29.3994],[115.4883,29.7949],[115.9277,29.707],[116.1035,29.8389],[116.2793,29.7949],[116.7188,30.0586],[116.8945,29.9268],[116.7188,29.751],[116.7188,29.6191],[117.1582,29.707],[117.0703,29.8389],[117.1582,29.9268],[117.5098,29.6191],[118.0371,29.5752],[118.2129,29.3994],[118.0371,29.1797],[118.0371,29.0479],[118.3887,28.7842],[118.4766,28.3447],[118.4766,28.3008],[118.3008,28.0811],[117.7734,27.8174],[117.5098,27.9932],[116.9824,27.6416],[117.1582,27.29],[117.0703,27.1143],[116.543,26.8066],[116.6309,26.4551],[116.3672,26.2354],[116.4551,26.1035],[116.1914,25.8838],[116.0156,25.2686],[115.8398,25.2246],[115.9277,24.917],[115.752,24.7852],[115.8398,24.5654],[115.4004,24.7852],[114.4336,24.5215],[114.1699,24.6973],[114.4336,24.9609],[114.6973,25.1367],[114.7852,25.2686],[114.6094,25.4004],[113.9941,25.2686],[113.9063,25.4443],[113.9941,26.0596],[114.2578,26.1475],[113.9941,26.1914],[114.082,26.5869],[113.9063,26.6309],[113.9063,26.9385],[113.7305,27.1143],[113.8184,27.29],[113.6426,27.3779],[113.6426,27.5977],[113.7305,27.9492],[114.2578,28.3447]]]}},{type:"Feature",id:"370000",properties:{name:"",cp:[118.7402,36.4307]},geometry:{type:"Polygon",coordinates:[[[115.4883,36.167],[115.3125,36.5186],[115.752,36.9141],[116.0156,37.3535],[116.2793,37.3535],[116.2793,37.5732],[116.4551,37.4854],[116.8066,37.8369],[117.4219,37.8369],[117.9492,38.3203],[118.125,38.1445],[118.916,38.1445],[119.3555,37.6611],[119.0039,37.5293],[119.0039,37.3535],[119.3555,37.1338],[119.707,37.1338],[119.8828,37.3975],[120.498,37.8369],[120.5859,38.1445],[120.9375,38.4521],[121.0254,37.8369],[121.2012,37.6611],[121.9043,37.4854],[122.168,37.6172],[122.2559,37.4854],[122.6074,37.4854],[122.6953,37.3535],[122.6074,36.9141],[122.4316,36.7822],[121.8164,36.8701],[121.7285,36.6943],[121.1133,36.6064],[121.1133,36.4307],[121.377,36.2549],[120.7617,36.167],[120.9375,35.8594],[120.6738,36.0352],[119.707,35.4639],[119.9707,34.9805],[119.3555,35.0244],[119.2676,35.1123],[118.916,35.0244],[118.7402,34.7168],[118.4766,34.6729],[118.3887,34.4092],[118.2129,34.4092],[118.125,34.6289],[117.9492,34.6729],[117.5977,34.4531],[117.334,34.585],[117.2461,34.4531],[116.8066,34.9365],[116.4551,34.8926],[116.3672,34.6289],[116.1914,34.585],[115.5762,34.585],[115.4004,34.8486],[114.7852,35.0684],[115.0488,35.376],[115.2246,35.4199],[115.4883,35.7275],[116.1035,36.0791],[115.3125,35.8154],[115.4883,36.167]]]}},{type:"Feature",id:"410000",properties:{name:"",cp:[113.4668,33.8818]},geometry:{type:"Polygon",coordinates:[[[110.3906,34.585],[110.8301,34.6289],[111.1816,34.8047],[111.5332,34.8486],[111.7969,35.0684],[112.0605,35.0684],[112.0605,35.2881],[112.7637,35.2002],[113.1152,35.332],[113.6426,35.6836],[113.7305,36.3428],[114.873,36.123],[114.9609,36.0791],[115.1367,36.2109],[115.3125,36.0791],[115.4883,36.167],[115.3125,35.8154],[116.1035,36.0791],[115.4883,35.7275],[115.2246,35.4199],[115.0488,35.376],[114.7852,35.0684],[115.4004,34.8486],[115.5762,34.585],[116.1914,34.585],[116.1914,34.4092],[116.543,34.2773],[116.6309,33.9258],[116.1914,33.7061],[116.0156,33.9697],[115.6641,34.0576],[115.5762,33.9258],[115.5762,33.6621],[115.4004,33.5303],[115.3125,33.1787],[114.873,33.1348],[114.873,33.0029],[115.1367,32.8711],[115.2246,32.6074],[115.5762,32.4316],[115.8398,32.5195],[115.9277,31.7725],[115.4883,31.6846],[115.4004,31.4209],[115.2246,31.4209],[115.1367,31.5967],[114.7852,31.4648],[114.6094,31.5527],[114.5215,31.7725],[114.1699,31.8604],[113.9941,31.7725],[113.8184,31.8604],[113.7305,32.4316],[113.4668,32.2998],[113.2031,32.4316],[112.3242,32.3438],[111.5332,32.6074],[111.0059,33.2666],[111.0059,33.5303],[110.6543,33.8379],[110.6543,34.1455],[110.4785,34.2334],[110.3906,34.585]]]}},{type:"Feature",id:"420000",properties:{name:"",cp:[112.2363,31.1572]},geometry:{type:"Polygon",coordinates:[[[110.2148,31.1572],[110.127,31.377],[109.6875,31.5527],[109.7754,31.6846],[109.5996,31.7285],[109.5117,32.4316],[109.6875,32.6074],[110.127,32.6074],[110.127,32.7393],[109.7754,32.915],[109.7754,33.0469],[109.4238,33.1348],[109.5996,33.2666],[110.3027,33.1787],[110.5664,33.2666],[110.7422,33.1348],[111.0059,33.2666],[111.5332,32.6074],[112.3242,32.3438],[113.2031,32.4316],[113.4668,32.2998],[113.7305,32.4316],[113.8184,31.8604],[113.9941,31.7725],[114.1699,31.8604],[114.5215,31.7725],[114.6094,31.5527],[114.7852,31.4648],[115.1367,31.5967],[115.2246,31.4209],[115.4004,31.4209],[115.5762,31.2012],[116.0156,31.0254],[115.752,30.6738],[116.1035,30.1904],[116.1035,29.8389],[115.9277,29.707],[115.4883,29.7949],[114.873,29.3994],[114.2578,29.3555],[113.9063,29.0479],[113.7305,29.0918],[113.6426,29.3115],[113.7305,29.5752],[113.5547,29.707],[113.5547,29.8389],[113.0273,29.4434],[112.9395,29.4873],[113.0273,29.751],[112.9395,29.7949],[112.6758,29.5752],[112.5,29.6191],[112.2363,29.5313],[111.7969,29.9268],[110.8301,30.1465],[110.4785,30.0146],[110.6543,29.751],[110.4785,29.6631],[109.7754,29.751],[109.6875,29.6191],[109.5117,29.6191],[109.248,29.1357],[109.0723,29.3555],[108.9844,29.3115],[108.6328,29.8389],[108.457,29.7949],[108.5449,30.2344],[108.457,30.4102],[108.6328,30.5859],[108.8086,30.498],[109.0723,30.6299],[109.1602,30.542],[109.248,30.6299],[109.4238,30.542],[109.8633,30.8936],[110.0391,30.8057],[110.2148,31.1572]]]}},{type:"Feature",id:"430000",properties:{name:"",cp:[111.5332,27.3779]},geometry:{type:"Polygon",coordinates:[[[109.248,28.4766],[109.248,29.1357],[109.5117,29.6191],[109.6875,29.6191],[109.7754,29.751],[110.4785,29.6631],[110.6543,29.751],[110.4785,30.0146],[110.8301,30.1465],[111.7969,29.9268],[112.2363,29.5313],[112.5,29.6191],[112.6758,29.5752],[112.9395,29.7949],[113.0273,29.751],[112.9395,29.4873],[113.0273,29.4434],[113.5547,29.8389],[113.5547,29.707],[113.7305,29.5752],[113.6426,29.3115],[113.7305,29.0918],[113.9063,29.0479],[114.1699,28.8281],[114.082,28.5645],[114.2578,28.3447],[113.7305,27.9492],[113.6426,27.5977],[113.6426,27.3779],[113.8184,27.29],[113.7305,27.1143],[113.9063,26.9385],[113.9063,26.6309],[114.082,26.5869],[113.9941,26.1914],[114.2578,26.1475],[113.9941,26.0596],[113.9063,25.4443],[113.6426,25.3125],[113.2031,25.5322],[112.8516,25.3564],[113.0273,25.2246],[113.0273,24.9609],[112.8516,24.917],[112.5879,25.1367],[112.2363,25.1807],[112.1484,24.873],[112.0605,24.7412],[111.709,24.7852],[111.5332,24.6533],[111.3574,25.1367],[111.0938,24.9609],[111.0059,25.0049],[111.4453,25.8398],[111.2695,25.8838],[111.2695,26.2354],[111.1816,26.3232],[110.5664,26.3232],[110.2148,25.9717],[109.9512,26.1914],[109.7754,25.8838],[109.5117,26.0156],[109.4238,26.2793],[109.248,26.3232],[109.4238,26.5869],[109.3359,26.7188],[109.5117,26.8066],[109.5117,27.0264],[109.3359,27.1582],[108.8965,27.0264],[108.8086,27.1143],[109.4238,27.5977],[109.3359,27.9053],[109.3359,28.2568],[109.248,28.4766]]]}},{type:"Feature",id:"440000",properties:{name:"",cp:[113.4668,22.8076]},geometry:{type:"Polygon",coordinates:[[[109.7754,21.4014],[109.7754,21.6211],[109.8633,21.665],[109.9512,21.8408],[110.3027,21.8848],[110.3027,22.1484],[110.6543,22.1484],[110.7422,22.2803],[110.7422,22.5439],[111.2695,22.8076],[111.4453,23.0273],[111.3574,23.4668],[111.6211,23.6865],[111.6211,23.8184],[111.7969,23.8184],[111.8848,23.9941],[111.8848,24.2139],[112.0605,24.3457],[111.8848,24.6533],[112.0605,24.7412],[112.1484,24.873],[112.2363,25.1807],[112.5879,25.1367],[112.8516,24.917],[113.0273,24.9609],[113.0273,25.2246],[112.8516,25.3564],[113.2031,25.5322],[113.6426,25.3125],[113.9063,25.4443],[113.9941,25.2686],[114.6094,25.4004],[114.7852,25.2686],[114.6973,25.1367],[114.4336,24.9609],[114.1699,24.6973],[114.4336,24.5215],[115.4004,24.7852],[115.8398,24.5654],[115.752,24.7852],[115.9277,24.917],[116.2793,24.7852],[116.3672,24.873],[116.543,24.6094],[116.7188,24.6533],[116.9824,24.1699],[116.9824,23.9063],[117.1582,23.5547],[117.334,23.2471],[116.8945,23.3789],[116.6309,23.1152],[116.543,22.8516],[115.9277,22.7197],[115.6641,22.7637],[115.5762,22.6318],[115.0488,22.6758],[114.6094,22.3682],[114.3457,22.5439],[113.9941,22.5],[113.8184,22.1924],[114.3457,22.1484],[114.4336,22.0166],[114.082,21.9287],[113.9941,21.7969],[113.5547,22.0166],[113.1152,21.8408],[112.9395,21.5771],[112.4121,21.4453],[112.2363,21.5332],[111.5332,21.4893],[111.2695,21.3574],[110.7422,21.3574],[110.6543,21.2256],[110.7422,20.918],[110.4785,20.874],[110.6543,20.2588],[110.5664,20.2588],[110.3906,20.127],[110.0391,20.127],[109.8633,20.127],[109.8633,20.3027],[109.5996,20.918],[109.7754,21.4014],[109.7754,21.4014]],[[113.5986,22.1649],[113.6096,22.1265],[113.5547,22.11],[113.5437,22.2034],[113.5767,22.2034],[113.5986,22.1649]]]}},{type:"Feature",id:"450000",properties:{name:"",cp:[108.2813,23.6426]},geometry:{type:"Polygon",coordinates:[[[104.502,24.7412],[104.6777,24.6094],[105.2051,24.9609],[105.9961,24.6533],[106.1719,24.7852],[106.1719,24.9609],[106.875,25.1807],[107.0508,25.2686],[106.9629,25.4883],[107.2266,25.6201],[107.4902,25.2246],[107.7539,25.2246],[107.8418,25.1367],[108.1055,25.2246],[108.1934,25.4443],[108.3691,25.5322],[108.6328,25.3125],[108.6328,25.5762],[109.0723,25.5322],[108.9844,25.752],[109.3359,25.708],[109.5117,26.0156],[109.7754,25.8838],[109.9512,26.1914],[110.2148,25.9717],[110.5664,26.3232],[111.1816,26.3232],[111.2695,26.2354],[111.2695,25.8838],[111.4453,25.8398],[111.0059,25.0049],[111.0938,24.9609],[111.3574,25.1367],[111.5332,24.6533],[111.709,24.7852],[112.0605,24.7412],[111.8848,24.6533],[112.0605,24.3457],[111.8848,24.2139],[111.8848,23.9941],[111.7969,23.8184],[111.6211,23.8184],[111.6211,23.6865],[111.3574,23.4668],[111.4453,23.0273],[111.2695,22.8076],[110.7422,22.5439],[110.7422,22.2803],[110.6543,22.1484],[110.3027,22.1484],[110.3027,21.8848],[109.9512,21.8408],[109.8633,21.665],[109.7754,21.6211],[109.7754,21.4014],[109.5996,21.4453],[109.1602,21.3574],[109.248,20.874],[109.0723,20.9619],[109.0723,21.5332],[108.7207,21.5332],[108.6328,21.665],[108.2813,21.4893],[107.8418,21.6211],[107.4023,21.6211],[107.0508,21.7969],[107.0508,21.9287],[106.6992,22.0166],[106.6113,22.4121],[106.7871,22.7637],[106.6992,22.8955],[105.9082,22.9395],[105.5566,23.0713],[105.5566,23.2031],[105.6445,23.4229],[106.1719,23.5547],[106.1719,23.8184],[105.9961,24.126],[105.5566,24.126],[105.4688,24.0381],[105.2051,24.082],[105.0293,24.4336],[104.7656,24.4775],[104.6777,24.3457],[104.502,24.7412]]]}},{type:"Feature",id:"460000",properties:{name:"",cp:[109.9512,19.2041]},geometry:{type:"Polygon",coordinates:[[[108.6328,19.3799],[109.0723,19.6436],[109.248,19.9512],[109.5996,20.0391],[110.0391,20.127],[110.3906,20.127],[110.5664,20.2588],[110.6543,20.2588],[111.0938,19.9512],[111.2695,19.9951],[110.6543,19.1602],[110.5664,18.6768],[110.2148,18.5889],[110.0391,18.3691],[109.8633,18.3691],[109.6875,18.1055],[108.9844,18.2813],[108.6328,18.457],[108.6328,19.3799]]]}},{type:"Feature",id:"500000",properties:{name:"",cp:[107.7539,30.1904]},geometry:{type:"Polygon",coordinates:[[[108.5449,31.6846],[108.2813,31.9043],[108.3691,32.168],[108.5449,32.2119],[109.0723,31.9482],[109.248,31.7285],[109.5996,31.7285],[109.7754,31.6846],[109.6875,31.5527],[110.127,31.377],[110.2148,31.1572],[110.0391,30.8057],[109.8633,30.8936],[109.4238,30.542],[109.248,30.6299],[109.1602,30.542],[109.0723,30.6299],[108.8086,30.498],[108.6328,30.5859],[108.457,30.4102],[108.5449,30.2344],[108.457,29.7949],[108.6328,29.8389],[108.9844,29.3115],[109.0723,29.3555],[109.248,29.1357],[109.248,28.4766],[109.0723,28.2129],[108.7207,28.2129],[108.7207,28.4766],[108.5449,28.3887],[108.5449,28.6523],[108.3691,28.6523],[108.2813,29.0918],[107.8418,29.0039],[107.8418,29.1357],[107.5781,29.2236],[107.4023,29.1797],[107.4023,28.8721],[106.875,28.7842],[106.6992,28.4766],[106.6113,28.5205],[106.6113,28.6523],[106.5234,28.7842],[106.4355,28.7842],[106.5234,28.5645],[106.3477,28.5205],[106.2598,28.8721],[105.8203,28.96],[105.7324,29.2676],[105.4688,29.3115],[105.293,29.5313],[105.7324,29.8828],[105.5566,30.1025],[105.6445,30.2783],[105.8203,30.4541],[106.2598,30.1904],[106.6113,30.3223],[106.7871,30.0146],[107.0508,30.0146],[107.4902,30.6299],[107.4023,30.7617],[107.4902,30.8496],[107.9297,30.8496],[108.1934,31.5088],[108.5449,31.6846]]]}},{type:"Feature",id:"510000",properties:{name:"",cp:[102.9199,30.1904]},geometry:{type:"Polygon",coordinates:[[[101.7773,33.5303],[101.8652,33.5742],[101.9531,33.4424],[101.8652,33.0908],[102.4805,33.4424],[102.2168,33.9258],[102.9199,34.3213],[103.0957,34.1895],[103.1836,33.7939],[104.1504,33.6182],[104.2383,33.3984],[104.4141,33.3105],[104.3262,33.2227],[104.4141,33.0469],[104.3262,32.8711],[104.4141,32.7393],[105.2051,32.6074],[105.3809,32.7393],[105.3809,32.8711],[105.4688,32.915],[105.5566,32.7393],[106.084,32.8711],[106.084,32.7393],[106.3477,32.6514],[107.0508,32.6953],[107.1387,32.4756],[107.2266,32.4316],[107.4023,32.5195],[108.0176,32.168],[108.2813,32.2559],[108.5449,32.2119],[108.3691,32.168],[108.2813,31.9043],[108.5449,31.6846],[108.1934,31.5088],[107.9297,30.8496],[107.4902,30.8496],[107.4023,30.7617],[107.4902,30.6299],[107.0508,30.0146],[106.7871,30.0146],[106.6113,30.3223],[106.2598,30.1904],[105.8203,30.4541],[105.6445,30.2783],[105.5566,30.1025],[105.7324,29.8828],[105.293,29.5313],[105.4688,29.3115],[105.7324,29.2676],[105.8203,28.96],[106.2598,28.8721],[106.3477,28.5205],[105.9961,28.7402],[105.6445,28.4326],[105.9082,28.125],[106.1719,28.125],[106.3477,27.8174],[105.6445,27.6416],[105.5566,27.7734],[105.293,27.7295],[105.2051,27.9932],[105.0293,28.0811],[104.8535,27.9053],[104.4141,27.9492],[104.3262,28.0371],[104.4141,28.125],[104.4141,28.2568],[104.2383,28.4326],[104.4141,28.6084],[103.8867,28.6523],[103.7988,28.3008],[103.4473,28.125],[103.4473,27.7734],[102.9199,27.29],[103.0078,26.3672],[102.6563,26.1914],[102.5684,26.3672],[102.1289,26.1035],[101.8652,26.0596],[101.6016,26.2354],[101.6895,26.3672],[101.4258,26.5869],[101.4258,26.8066],[101.4258,26.7188],[101.1621,27.0264],[101.1621,27.1582],[100.7227,27.8613],[100.3711,27.8174],[100.2832,27.7295],[100.0195,28.125],[100.1953,28.3447],[99.668,28.8281],[99.4043,28.5205],[99.4043,28.1689],[99.2285,28.3008],[99.1406,29.2676],[98.9648,30.7617],[98.6133,31.2012],[98.877,31.4209],[98.4375,31.8604],[98.1738,32.3438],[97.7344,32.5195],[97.4707,32.6953],[97.3828,32.8711],[97.7344,33.3984],[97.4707,33.5742],[97.3828,33.8818],[97.7344,33.9258],[97.6465,34.1016],[97.8223,34.1895],[98.4375,34.0576],[98.877,33.1787],[99.2285,33.0469],[99.2285,32.915],[99.7559,32.7393],[99.8438,33.0029],[100.1074,32.8711],[100.1074,32.6514],[100.3711,32.7393],[100.7227,32.5195],[100.7227,32.6514],[101.25,32.6953],[101.1621,33.2227],[101.6016,33.1348],[101.7773,33.2227],[101.6895,33.3105],[101.7773,33.5303]]]}},{type:"Feature",id:"520000",properties:{name:"",cp:[106.6113,26.9385]},geometry:{type:"Polygon",coordinates:[[[104.1504,27.2461],[104.4141,27.4658],[104.5898,27.334],[105.2051,27.3779],[105.293,27.7295],[105.5566,27.7734],[105.6445,27.6416],[106.3477,27.8174],[106.1719,28.125],[105.9082,28.125],[105.6445,28.4326],[105.9961,28.7402],[106.3477,28.5205],[106.5234,28.5645],[106.4355,28.7842],[106.5234,28.7842],[106.6113,28.6523],[106.6113,28.5205],[106.6992,28.4766],[106.875,28.7842],[107.4023,28.8721],[107.4023,29.1797],[107.5781,29.2236],[107.8418,29.1357],[107.8418,29.0039],[108.2813,29.0918],[108.3691,28.6523],[108.5449,28.6523],[108.5449,28.3887],[108.7207,28.4766],[108.7207,28.2129],[109.0723,28.2129],[109.248,28.4766],[109.3359,28.2568],[109.3359,27.9053],[109.4238,27.5977],[108.8086,27.1143],[108.8965,27.0264],[109.3359,27.1582],[109.5117,27.0264],[109.5117,26.8066],[109.3359,26.7188],[109.4238,26.5869],[109.248,26.3232],[109.4238,26.2793],[109.5117,26.0156],[109.3359,25.708],[108.9844,25.752],[109.0723,25.5322],[108.6328,25.5762],[108.6328,25.3125],[108.3691,25.5322],[108.1934,25.4443],[108.1055,25.2246],[107.8418,25.1367],[107.7539,25.2246],[107.4902,25.2246],[107.2266,25.6201],[106.9629,25.4883],[107.0508,25.2686],[106.875,25.1807],[106.1719,24.9609],[106.1719,24.7852],[105.9961,24.6533],[105.2051,24.9609],[104.6777,24.6094],[104.502,24.7412],[104.6777,24.9609],[104.5898,25.0488],[104.8535,25.2246],[104.3262,25.708],[104.6777,26.4111],[104.4141,26.6748],[103.8867,26.543],[103.7109,26.7627],[103.7109,26.9824],[103.623,27.0264],[103.8867,27.4219],[104.1504,27.2461]]]}},{type:"Feature",id:"530000",properties:{name:"",cp:[101.8652,25.1807]},geometry:{type:"Polygon",coordinates:[[[98.1738,28.125],[98.2617,28.3887],[98.3496,28.125],[98.7012,28.2129],[98.7891,28.3447],[98.6133,28.5205],[98.7012,28.916],[98.7891,29.0039],[98.7891,28.8721],[98.9648,28.8281],[98.9648,29.1357],[99.1406,29.2676],[99.2285,28.3008],[99.4043,28.1689],[99.4043,28.5205],[99.668,28.8281],[100.1953,28.3447],[100.0195,28.125],[100.2832,27.7295],[100.3711,27.8174],[100.7227,27.8613],[101.1621,27.1582],[101.1621,27.0264],[101.4258,26.7188],[101.4258,26.8066],[101.4258,26.5869],[101.6895,26.3672],[101.6016,26.2354],[101.8652,26.0596],[102.1289,26.1035],[102.5684,26.3672],[102.6563,26.1914],[103.0078,26.3672],[102.9199,27.29],[103.4473,27.7734],[103.4473,28.125],[103.7988,28.3008],[103.8867,28.6523],[104.4141,28.6084],[104.2383,28.4326],[104.4141,28.2568],[104.4141,28.125],[104.3262,28.0371],[104.4141,27.9492],[104.8535,27.9053],[105.0293,28.0811],[105.2051,27.9932],[105.293,27.7295],[105.2051,27.3779],[104.5898,27.334],[104.4141,27.4658],[104.1504,27.2461],[103.8867,27.4219],[103.623,27.0264],[103.7109,26.9824],[103.7109,26.7627],[103.8867,26.543],[104.4141,26.6748],[104.6777,26.4111],[104.3262,25.708],[104.8535,25.2246],[104.5898,25.0488],[104.6777,24.9609],[104.502,24.7412],[104.6777,24.3457],[104.7656,24.4775],[105.0293,24.4336],[105.2051,24.082],[105.4688,24.0381],[105.5566,24.126],[105.9961,24.126],[106.1719,23.8184],[106.1719,23.5547],[105.6445,23.4229],[105.5566,23.2031],[105.293,23.3789],[104.8535,23.1592],[104.7656,22.8516],[104.3262,22.6758],[104.1504,22.8076],[103.9746,22.5439],[103.623,22.7637],[103.5352,22.5879],[103.3594,22.8076],[103.0957,22.4561],[102.4805,22.7637],[102.3047,22.4121],[101.8652,22.3682],[101.7773,22.5],[101.6016,22.1924],[101.8652,21.6211],[101.7773,21.1377],[101.6016,21.2256],[101.25,21.1816],[101.1621,21.7529],[100.6348,21.4453],[100.1074,21.4893],[99.9316,22.0605],[99.2285,22.1484],[99.4043,22.5879],[99.3164,22.7197],[99.4922,23.0713],[98.877,23.2031],[98.7012,23.9502],[98.877,24.126],[98.1738,24.082],[97.7344,23.8623],[97.5586,23.9063],[97.7344,24.126],[97.6465,24.4336],[97.5586,24.4336],[97.5586,24.7412],[97.7344,24.8291],[97.8223,25.2686],[98.1738,25.4004],[98.1738,25.6201],[98.3496,25.5762],[98.5254,25.8398],[98.7012,25.8838],[98.6133,26.0596],[98.7012,26.1475],[98.7891,26.5869],[98.7012,27.5098],[98.5254,27.6416],[98.3496,27.5098],[98.1738,28.125]]]}},{type:"Feature",id:"540000",properties:{name:"",cp:[88.7695,31.6846]},geometry:{type:"Polygon",coordinates:[[[79.0137,34.3213],[79.1016,34.4531],[79.8047,34.4971],[79.8926,34.8047],[80.2441,35.2002],[80.332,35.1563],[80.2441,35.2881],[80.4199,35.4199],[81.6504,35.2441],[82.002,35.332],[82.4414,35.7275],[82.8809,35.6836],[83.1445,35.4199],[84.1992,35.376],[85.0781,35.7275],[85.6055,35.6836],[86.1328,35.8594],[86.2207,36.167],[87.3633,36.4307],[88.5938,36.4746],[88.7695,36.3428],[89.209,36.2988],[89.7363,36.0791],[89.3848,36.0352],[89.4727,35.9033],[89.7363,35.7715],[89.7363,35.4199],[89.4727,35.376],[89.4727,35.2441],[89.5605,34.8926],[89.8242,34.8486],[89.7363,34.6729],[89.8242,34.3652],[89.6484,34.0137],[90.0879,33.4863],[90.7031,33.1348],[91.4063,33.1348],[91.9336,32.8271],[92.1973,32.8271],[92.2852,32.7393],[92.9883,32.7393],[93.5156,32.4756],[93.7793,32.5635],[94.1309,32.4316],[94.6582,32.6074],[95.1855,32.4316],[95.0098,32.2998],[95.1855,32.3438],[95.2734,32.2119],[95.3613,32.168],[95.3613,31.9922],[95.4492,31.8164],[95.8008,31.6846],[95.9766,31.8164],[96.1523,31.5967],[96.2402,31.9482],[96.5039,31.7285],[96.8555,31.6846],[96.7676,31.9922],[97.2949,32.0801],[97.3828,32.5635],[97.7344,32.5195],[98.1738,32.3438],[98.4375,31.8604],[98.877,31.4209],[98.6133,31.2012],[98.9648,30.7617],[99.1406,29.2676],[98.9648,29.1357],[98.9648,28.8281],[98.7891,28.8721],[98.7891,29.0039],[98.7012,28.916],[98.6133,28.5205],[98.7891,28.3447],[98.7012,28.2129],[98.3496,28.125],[98.2617,28.3887],[98.1738,28.125],[97.5586,28.5205],[97.2949,28.0811],[97.3828,27.9053],[97.0313,27.7295],[96.5039,28.125],[95.7129,28.2568],[95.3613,28.125],[95.2734,27.9492],[94.2188,27.5537],[93.8672,27.0264],[93.6035,26.9385],[92.1094,26.8506],[92.0215,27.4658],[91.582,27.5537],[91.582,27.9053],[91.4063,28.0371],[91.0547,27.8613],[90.7031,28.0811],[89.8242,28.2129],[89.6484,28.1689],[89.1211,27.5977],[89.1211,27.334],[89.0332,27.2021],[88.7695,27.4219],[88.8574,27.9932],[88.6816,28.125],[88.1543,27.9053],[87.8906,27.9492],[87.7148,27.8174],[87.0996,27.8174],[86.748,28.125],[86.5723,28.125],[86.4844,27.9053],[86.1328,28.125],[86.0449,27.9053],[85.6934,28.3447],[85.6055,28.2568],[85.166,28.3447],[85.166,28.6523],[84.9023,28.5645],[84.4629,28.7402],[84.2871,28.8721],[84.1992,29.2236],[84.1113,29.2676],[83.584,29.1797],[83.2324,29.5752],[82.1777,30.0586],[82.0898,30.3223],[81.3867,30.3662],[81.2109,30.0146],[81.0352,30.2344],[80.0684,30.5859],[79.7168,30.9375],[79.0137,31.0693],[78.75,31.333],[78.8379,31.5967],[78.6621,31.8164],[78.75,31.9043],[78.4863,32.124],[78.3984,32.5195],[78.75,32.6953],[78.9258,32.3438],[79.2773,32.5635],[79.1016,33.1787],[78.6621,33.6621],[78.6621,34.1016],[78.9258,34.1455],[79.0137,34.3213]]]}},{type:"Feature",id:"610000",properties:{name:"",cp:[109.5996,35.6396]},geometry:{type:"Polygon",coordinates:[[[105.4688,32.915],[105.9082,33.0029],[105.9961,33.1787],[105.7324,33.3984],[105.9961,33.6182],[106.5234,33.5303],[106.4355,33.9258],[106.6113,34.1455],[106.5234,34.2773],[106.6992,34.3213],[106.3477,34.585],[106.5234,34.7607],[106.6113,35.0684],[106.9629,35.0684],[107.2266,34.8926],[107.666,34.9365],[107.8418,35.0244],[107.7539,35.1123],[107.7539,35.2881],[108.5449,35.2881],[108.6328,35.5518],[108.5449,35.8594],[108.6328,35.9912],[108.7207,36.3428],[107.3145,36.9141],[107.3145,37.0898],[107.3145,37.6172],[107.666,37.8809],[108.1934,37.6172],[108.7207,37.7051],[108.8086,38.0127],[108.8965,37.9688],[109.0723,38.0127],[108.9844,38.3203],[109.9512,39.1553],[109.8633,39.2432],[110.2148,39.2871],[110.127,39.4629],[110.6543,39.2871],[111.0938,39.5947],[111.0938,39.375],[111.1816,39.2432],[110.918,38.7158],[110.8301,38.4961],[110.4785,38.1885],[110.4785,37.9688],[110.8301,37.6611],[110.3906,37.002],[110.4785,36.123],[110.5664,35.6396],[110.2148,34.8926],[110.2148,34.6729],[110.3906,34.585],[110.4785,34.2334],[110.6543,34.1455],[110.6543,33.8379],[111.0059,33.5303],[111.0059,33.2666],[110.7422,33.1348],[110.5664,33.2666],[110.3027,33.1787],[109.5996,33.2666],[109.4238,33.1348],[109.7754,33.0469],[109.7754,32.915],[110.127,32.7393],[110.127,32.6074],[109.6875,32.6074],[109.5117,32.4316],[109.5996,31.7285],[109.248,31.7285],[109.0723,31.9482],[108.5449,32.2119],[108.2813,32.2559],[108.0176,32.168],[107.4023,32.5195],[107.2266,32.4316],[107.1387,32.4756],[107.0508,32.6953],[106.3477,32.6514],[106.084,32.7393],[106.084,32.8711],[105.5566,32.7393],[105.4688,32.915]]]
}},{type:"Feature",id:"620000",properties:{name:"",cp:[95.7129,40.166]},geometry:{type:"Polygon",coordinates:[[[96.416,42.7148],[97.207,42.8027],[97.8223,41.748],[97.8223,41.6162],[97.4707,41.4844],[98.3496,40.9131],[98.3496,40.5615],[98.6133,40.6494],[98.5254,40.7373],[98.7891,40.6055],[98.9648,40.7813],[99.0527,40.6934],[99.2285,40.8691],[99.9316,41.001],[100.1953,40.6494],[100.1074,40.2539],[99.4922,39.8584],[100.0195,39.7705],[100.5469,39.4189],[100.8105,39.4189],[100.9863,38.9355],[101.25,39.0234],[101.3379,38.7598],[101.7773,38.6719],[102.041,38.8916],[101.8652,39.1113],[102.4805,39.2432],[103.0078,39.1113],[103.3594,39.3311],[104.0625,39.4189],[104.2383,38.9795],[103.4473,38.3643],[103.5352,38.1445],[103.3594,38.0127],[103.4473,37.8369],[104.3262,37.4414],[104.5898,37.4414],[104.5898,37.2217],[104.8535,37.2217],[105.293,36.8262],[105.2051,36.6943],[105.4688,36.123],[105.293,35.9912],[105.3809,35.7715],[105.7324,35.7275],[105.8203,35.5518],[105.9961,35.4639],[105.9082,35.4199],[105.9961,35.4199],[106.084,35.376],[106.2598,35.4199],[106.3477,35.2441],[106.5234,35.332],[106.4355,35.6836],[106.6992,35.6836],[106.9629,35.8154],[106.875,36.123],[106.5234,36.2549],[106.5234,36.4746],[106.4355,36.5625],[106.6113,36.7822],[106.6113,37.0898],[107.3145,37.0898],[107.3145,36.9141],[108.7207,36.3428],[108.6328,35.9912],[108.5449,35.8594],[108.6328,35.5518],[108.5449,35.2881],[107.7539,35.2881],[107.7539,35.1123],[107.8418,35.0244],[107.666,34.9365],[107.2266,34.8926],[106.9629,35.0684],[106.6113,35.0684],[106.5234,34.7607],[106.3477,34.585],[106.6992,34.3213],[106.5234,34.2773],[106.6113,34.1455],[106.4355,33.9258],[106.5234,33.5303],[105.9961,33.6182],[105.7324,33.3984],[105.9961,33.1787],[105.9082,33.0029],[105.4688,32.915],[105.3809,32.8711],[105.3809,32.7393],[105.2051,32.6074],[104.4141,32.7393],[104.3262,32.8711],[104.4141,33.0469],[104.3262,33.2227],[104.4141,33.3105],[104.2383,33.3984],[104.1504,33.6182],[103.1836,33.7939],[103.0957,34.1895],[102.9199,34.3213],[102.2168,33.9258],[102.4805,33.4424],[101.8652,33.0908],[101.9531,33.4424],[101.8652,33.5742],[101.7773,33.5303],[101.6016,33.5303],[101.5137,33.7061],[101.25,33.6621],[100.8105,34.2773],[100.9863,34.3652],[101.6895,34.1016],[102.1289,34.2773],[102.2168,34.4092],[101.9531,34.6289],[101.9531,34.8486],[102.3926,35.2002],[102.3047,35.4199],[102.4805,35.5957],[102.832,35.5957],[102.6563,35.7715],[102.9199,35.9033],[102.9199,36.0791],[103.0078,36.2549],[102.832,36.3428],[102.5684,36.7383],[102.6563,36.8262],[102.4805,36.958],[102.5684,37.1777],[102.1289,37.4414],[101.9531,37.7051],[101.7773,37.6172],[101.5137,37.8809],[101.1621,37.8369],[100.7227,38.2324],[100.459,38.2764],[100.1074,38.4961],[100.0195,38.4521],[100.1953,38.2764],[99.8438,38.3643],[99.1406,38.9355],[98.7891,39.0674],[98.6133,38.9355],[98.3496,39.0234],[98.1738,38.8037],[97.0313,39.1992],[97.1191,38.584],[96.6797,38.4521],[96.6797,38.1885],[96.416,38.2324],[96.2402,38.1006],[95.7129,38.3643],[95.4492,38.2764],[95.0098,38.4082],[94.5703,38.3643],[94.3066,38.7598],[93.8672,38.7158],[93.6914,38.9355],[93.1641,38.9795],[93.1641,39.1992],[92.373,39.1113],[92.373,39.3311],[92.6367,39.6387],[93.0762,40.6494],[93.8672,40.6934],[94.043,41.0889],[94.5703,41.4844],[95.1855,41.792],[95.2734,41.6162],[95.9766,41.9238],[96.2402,42.2314],[96.0645,42.3193],[95.9766,42.4951],[96.416,42.7148]]]}},{type:"Feature",id:"630000",properties:{name:"",cp:[96.2402,35.4199]},geometry:{type:"Polygon",coordinates:[[[89.7363,36.0791],[89.9121,36.0791],[90,36.2549],[90.8789,36.0352],[91.0547,36.0791],[91.0547,36.5186],[90.791,36.6064],[90.7031,36.7822],[91.3184,37.0898],[91.0547,37.4414],[90.5273,37.8369],[90.6152,38.3203],[90.3516,38.2324],[90.1758,38.4961],[92.373,39.0234],[92.373,39.1113],[93.1641,39.1992],[93.1641,38.9795],[93.6914,38.9355],[93.8672,38.7158],[94.3066,38.7598],[94.5703,38.3643],[95.0098,38.4082],[95.4492,38.2764],[95.7129,38.3643],[96.2402,38.1006],[96.416,38.2324],[96.6797,38.1885],[96.6797,38.4521],[97.1191,38.584],[97.0313,39.1992],[98.1738,38.8037],[98.3496,39.0234],[98.6133,38.9355],[98.7891,39.0674],[99.1406,38.9355],[99.8438,38.3643],[100.1953,38.2764],[100.0195,38.4521],[100.1074,38.4961],[100.459,38.2764],[100.7227,38.2324],[101.1621,37.8369],[101.5137,37.8809],[101.7773,37.6172],[101.9531,37.7051],[102.1289,37.4414],[102.5684,37.1777],[102.4805,36.958],[102.6563,36.8262],[102.5684,36.7383],[102.832,36.3428],[103.0078,36.2549],[102.9199,36.0791],[102.9199,35.9033],[102.6563,35.7715],[102.832,35.5957],[102.4805,35.5957],[102.3047,35.4199],[102.3926,35.2002],[101.9531,34.8486],[101.9531,34.6289],[102.2168,34.4092],[102.1289,34.2773],[101.6895,34.1016],[100.9863,34.3652],[100.8105,34.2773],[101.25,33.6621],[101.5137,33.7061],[101.6016,33.5303],[101.7773,33.5303],[101.6895,33.3105],[101.7773,33.2227],[101.6016,33.1348],[101.1621,33.2227],[101.25,32.6953],[100.7227,32.6514],[100.7227,32.5195],[100.3711,32.7393],[100.1074,32.6514],[100.1074,32.8711],[99.8438,33.0029],[99.7559,32.7393],[99.2285,32.915],[99.2285,33.0469],[98.877,33.1787],[98.4375,34.0576],[97.8223,34.1895],[97.6465,34.1016],[97.7344,33.9258],[97.3828,33.8818],[97.4707,33.5742],[97.7344,33.3984],[97.3828,32.8711],[97.4707,32.6953],[97.7344,32.5195],[97.3828,32.5635],[97.2949,32.0801],[96.7676,31.9922],[96.8555,31.6846],[96.5039,31.7285],[96.2402,31.9482],[96.1523,31.5967],[95.9766,31.8164],[95.8008,31.6846],[95.4492,31.8164],[95.3613,31.9922],[95.3613,32.168],[95.2734,32.2119],[95.1855,32.3438],[95.0098,32.2998],[95.1855,32.4316],[94.6582,32.6074],[94.1309,32.4316],[93.7793,32.5635],[93.5156,32.4756],[92.9883,32.7393],[92.2852,32.7393],[92.1973,32.8271],[91.9336,32.8271],[91.4063,33.1348],[90.7031,33.1348],[90.0879,33.4863],[89.6484,34.0137],[89.8242,34.3652],[89.7363,34.6729],[89.8242,34.8486],[89.5605,34.8926],[89.4727,35.2441],[89.4727,35.376],[89.7363,35.4199],[89.7363,35.7715],[89.4727,35.9033],[89.3848,36.0352],[89.7363,36.0791]]]}},{type:"Feature",id:"640000",properties:{name:"",cp:[105.9961,37.3096]},geometry:{type:"Polygon",coordinates:[[[104.3262,37.4414],[105.8203,37.793],[105.9082,38.7158],[106.3477,39.2871],[106.7871,39.375],[106.9629,38.9795],[106.5234,38.3203],[106.7871,38.1885],[107.3145,38.1006],[107.666,37.8809],[107.3145,37.6172],[107.3145,37.0898],[106.6113,37.0898],[106.6113,36.7822],[106.4355,36.5625],[106.5234,36.4746],[106.5234,36.2549],[106.875,36.123],[106.9629,35.8154],[106.6992,35.6836],[106.4355,35.6836],[106.5234,35.332],[106.3477,35.2441],[106.2598,35.4199],[106.084,35.376],[105.9961,35.4199],[106.084,35.4639],[105.9961,35.4639],[105.8203,35.5518],[105.7324,35.7275],[105.3809,35.7715],[105.293,35.9912],[105.4688,36.123],[105.2051,36.6943],[105.293,36.8262],[104.8535,37.2217],[104.5898,37.2217],[104.5898,37.4414],[104.3262,37.4414]]]}},{type:"Feature",id:"650000",properties:{name:"",cp:[84.9023,41.748]},geometry:{type:"Polygon",coordinates:[[[96.416,42.7588],[96.416,42.7148],[95.9766,42.4951],[96.0645,42.3193],[96.2402,42.2314],[95.9766,41.9238],[95.2734,41.6162],[95.1855,41.792],[94.5703,41.4844],[94.043,41.0889],[93.8672,40.6934],[93.0762,40.6494],[92.6367,39.6387],[92.373,39.3311],[92.373,39.1113],[92.373,39.0234],[90.1758,38.4961],[90.3516,38.2324],[90.6152,38.3203],[90.5273,37.8369],[91.0547,37.4414],[91.3184,37.0898],[90.7031,36.7822],[90.791,36.6064],[91.0547,36.5186],[91.0547,36.0791],[90.8789,36.0352],[90,36.2549],[89.9121,36.0791],[89.7363,36.0791],[89.209,36.2988],[88.7695,36.3428],[88.5938,36.4746],[87.3633,36.4307],[86.2207,36.167],[86.1328,35.8594],[85.6055,35.6836],[85.0781,35.7275],[84.1992,35.376],[83.1445,35.4199],[82.8809,35.6836],[82.4414,35.7275],[82.002,35.332],[81.6504,35.2441],[80.4199,35.4199],[80.2441,35.2881],[80.332,35.1563],[80.2441,35.2002],[79.8926,34.8047],[79.8047,34.4971],[79.1016,34.4531],[79.0137,34.3213],[78.2227,34.7168],[78.0469,35.2441],[78.0469,35.5078],[77.4316,35.4639],[76.8164,35.6396],[76.5527,35.8594],[76.2012,35.8154],[75.9375,36.0352],[76.0254,36.4746],[75.8496,36.6943],[75.498,36.7383],[75.4102,36.958],[75.0586,37.002],[74.8828,36.9141],[74.7949,37.0459],[74.5313,37.0898],[74.5313,37.2217],[74.8828,37.2217],[75.1465,37.4414],[74.8828,37.5732],[74.9707,37.749],[74.8828,38.4521],[74.3555,38.6719],[74.1797,38.6719],[74.0918,38.54],[73.8281,38.584],[73.7402,38.8477],[73.8281,38.9795],[73.4766,39.375],[73.916,39.5068],[73.916,39.6826],[73.8281,39.7705],[74.0039,40.0342],[74.8828,40.3418],[74.7949,40.5176],[75.2344,40.4297],[75.5859,40.6494],[75.7617,40.2979],[76.377,40.3857],[76.9043,41.001],[77.6074,41.001],[78.1348,41.2207],[78.1348,41.3965],[80.1563,42.0557],[80.2441,42.2754],[80.1563,42.627],[80.2441,42.8467],[80.5078,42.8906],[80.4199,43.0664],[80.7715,43.1982],[80.4199,44.165],[80.4199,44.6045],[79.9805,44.8242],[79.9805,44.9561],[81.7383,45.3955],[82.0898,45.2197],[82.5293,45.2197],[82.2656,45.6592],[83.0566,47.2412],[83.6719,47.0215],[84.7266,47.0215],[84.9023,46.8896],[85.5176,47.0654],[85.6934,47.2852],[85.5176,48.1201],[85.7813,48.4277],[86.5723,48.5596],[86.8359,48.8232],[86.748,48.9551],[86.8359,49.1309],[87.8027,49.1748],[87.8906,48.999],[87.7148,48.9111],[88.0664,48.7354],[87.9785,48.6035],[88.5059,48.3838],[88.6816,48.1641],[89.1211,47.9883],[89.5605,48.0322],[89.7363,47.8564],[90.0879,47.8564],[90.3516,47.6807],[90.5273,47.2412],[90.8789,46.9775],[91.0547,46.582],[90.8789,46.3184],[91.0547,46.0107],[90.7031,45.7471],[90.7031,45.5273],[90.8789,45.2197],[91.582,45.0879],[93.5156,44.9561],[94.7461,44.3408],[95.3613,44.2969],[95.3613,44.0332],[95.5371,43.9014],[95.8887,43.2422],[96.3281,42.9346],[96.416,42.7588]]]}},{type:"Feature",id:"710000",properties:{name:"",cp:[121.0254,23.5986]},geometry:{type:"Polygon",coordinates:[[[121.9043,25.0488],[121.9922,25.0049],[121.8164,24.7412],[121.9043,24.5654],[121.6406,24.0381],[121.377,23.1152],[121.0254,22.6758],[120.8496,22.0605],[120.7617,21.9287],[120.6738,22.3242],[120.2344,22.5879],[120.0586,23.0713],[120.1465,23.6865],[121.0254,25.0488],[121.5527,25.3125],[121.9043,25.0488]]]}},{type:"Feature",id:"810000",properties:{name:"",cp:[114.2578,22.3242]},geometry:{type:"Polygon",coordinates:[[[114.6094,22.4121],[114.5215,22.1484],[114.3457,22.1484],[113.9063,22.1484],[113.8184,22.1924],[113.9063,22.4121],[114.1699,22.5439],[114.3457,22.5439],[114.4336,22.5439],[114.4336,22.4121],[114.6094,22.4121]]]}},{type:"Feature",id:"820000",properties:{name:"",cp:[113.5547,22.1484]},geometry:{type:"Polygon",coordinates:[[[113.5986,22.1649],[113.6096,22.1265],[113.5547,22.11],[113.5437,22.2034],[113.5767,22.2034],[113.5986,22.1649]]]}}],srcSize:{left:243.4766,top:36.4307,width:61.6113,height:35.4638}}},function(e,t,i){var n=i(1),o=n.CommonLib,r=o.forge,a=i(3),s=i(6),c=i(21),u=i(25),h=i(26),l=function(e){a.call(this,e);var t=e,i=this._stage3d;i.camera.position.set(-4.113539882700237,-343.884212661633,475.03659761309075),t.cameraPosition instanceof Array&&i.camera.position.set.apply(i.camera.position,t.cameraPosition),i.camera.fov=45;var n=this._controls;n.target.set(0,0,0),n.minDistance=50,n.maxDistance=3200,n.update(),t.enableControl||n.dispose()};l.prototype=r(a.prototype,o.UiComponent.prototype,{constructor:l,_map:void 0,_markers:void 0,_flows:void 0,_markerMaterials:void 0,_invalidateMarkerFlag:!1,_invalidateFlowFlag:!1,_initLight:function(){},_initObject:function(){var e=this,t=e._parameters,n=e._stage3d,o=new s;e._map=o,o.idField="id",o.mapData=t.mapData||i(23),o.strokeColor=t.strokeColor||1802489,o.showSurfaces=!0,o.showStrokes=!0,o.showLabels=!1,o.labelField="name",o.labelPositionField="cp",o.labelScale=1,o.labelFillColor=t.labelFillColor||5282240,o.labelStrokeColor=t.labelStrokeColor||0,o.highlightColor=t.highlightColor||void 0,o.highlightOffset=5,o.scaleX=8,o.scaleY=10,o.scaleZ=11,o.fillColor=12303291,t.crustsTexture&&(o.crustsTexture=(new THREE.TextureLoader).load(t.crustsTexture),o.crustsTexture.wrapS=THREE.RepeatWrapping,o.crustsTexture.wrapT=THREE.RepeatWrapping),o.crustsOffsetRepeat.z=t.crustsTextureRepeatX||.2,o.crustsOffsetRepeat.w=t.crustsTextureRepeatY||0,o.surfaceFillColor=15658734,t.surfacesTexture&&(o.surfacesTexture=(new THREE.TextureLoader).load(t.surfacesTexture),o.surfacesTexture.wrapS=THREE.RepeatWrapping,o.surfacesTexture.wrapT=THREE.RepeatWrapping),o.surfacesOffsetRepeat.y=.5,o.surfacesOffsetRepeat.z=t.surfacesTextureRepeatX||.0025,o.surfacesOffsetRepeat.w=t.surfacesTextureRepeatY||.0025,n.addObject(o),o.on("itemClick",function(t){e.dispatchEvent({type:"mapItemClick",mouseEvent:t.mouseEvent,index:t.index,feature:t.feature,item:t.data})}),o.on("itemMouseOut",function(t){e.dispatchEvent({type:"mapItemMouseOut",mouseEvent:t.mouseEvent,item:t.data})}),o.on("itemMouseOver",function(t){e.dispatchEvent({type:"mapItemMouseOver",mouseEvent:t.mouseEvent,index:t.index,feature:t.feature,item:t.data})});var r=new c;if(r.interactive=!1,r.useLights=!1,r.scaleX=.0618*o.scaleX,r.scaleY=.0618*o.scaleX,r.scaleZ=.9*o.scaleZ,r.showLabels=!0,r.labelField="name",r.labelScale=25*o.labelScale,r.fillColor=t.southChinaSeaFillColor||268395,r.strokeColor=t.southChinaSeaStrokeColor||o.strokeColor,r.highlightColor=o.highlightColor,r.highlightAnimationDuration=o.highlightAnimationDuration,r.position.set(200,-130,0),n.addObject(r),t.shadowTexture){var a=new THREE.Mesh(new THREE.PlaneGeometry(o.boundingBox.width,o.boundingBox.height),new THREE.MeshBasicMaterial({map:(new THREE.TextureLoader).load(t.shadowTexture),color:t.shadowColor||33023,transparent:!0,opacity:t.shadowAlpha||.25,depthWrite:!1})),u=1.3;a.scale.set(o.scaleX*u,o.scaleY*u,1),a.position.z=-.2,n.addObject(a)}e._markerMaterials=(t.markerTextures||[]).map(function(e){var t=(new THREE.TextureLoader).load(e);return t.magFilter=THREE.NearestFilter,t.minFilter=THREE.LinearMipMapLinearFilter,new THREE.SpriteMaterial({map:t,depthWrite:!1,transparent:!0})}),t.markerData&&(e.markerData=t.markerData),t.flowData&&(e.flowData=t.flowData)},_markerData:void 0,get markerData(){return this._markerData},set markerData(e){this._markerData=e,this._invalidateMarkerFlag=!0,this.invalidateProperties()},_flowData:void 0,get flowData(){return this._flowData},set flowData(e){this._flowData=e,this._invalidateFlowFlag=!0,this.invalidateProperties()},commitProperties:function(){this._invalidateMarkerFlag&&(this._invalidateMarkerFlag=!1,this._updateMarkers()),this._invalidateFlowFlag&&(this._invalidateFlowFlag=!1,this._updateFlows())},_updateMarkers:function(){var e=this,t=e._map,i=e._stage3d;if(e._markers&&e._markers.length>0)for(;e._markers.length>0;){var n=e._markers.pop();n.dispatcher=null,n.disappear(void 0,void 0,function(){i.removeObject(this)}),delete e._markerMap[n.data.id]}e._markers=[],e._markerMap={},e._markerData.forEach(function(n){var o=null;if(0==n.type)if("number"==typeof n.longitude&&"number"==typeof n.latitude&&n.longitude*n.latitude!=0&&t.boundingBox.contains(n.longitude,n.latitude)){var r=t.lonLatToXY(n.longitude,n.latitude);o=new THREE.Vector3(r.x,r.y,t.scaleZ)}else o=null;else if(1==n.type){var a=e._map.getFeature(n.id);if(a){var s=a.properties.cp;r=e._map.lonLatToXY(s[0],s[1]),o=new THREE.Vector3(r.x,r.y,t.scaleZ)}}if(o){var c=new u(e._markerMaterials[n.normalTextureIndex],e._markerMaterials[n.emphasisTextureIndex]);c.size=(n.size||1)*t.scaleX*1.5,c.scale.set(c.size,c.size,c.size),c.dispatcher=e,c.data=n,c.position.set(o.x,o.y,o.z+c.size/2),i.addObject(c),e._markers.push(c),e._markerMap[n.id]=c}})},_updateFlows:function(){var e=this,t=e._stage3d,i=e._parameters;if(e._flows&&e._flows.length>0)for(;e._flows.length>0;){var n=e._flows.pop();n.disappear(void 0,void 0,function(){t.removeObject(this)})}e._flows=[],e._flowData.forEach(function(n){var o=e._markerMap[n.source],r=e._markerMap[n.target];if(o&&r){var a=o.position,s=r.position,c=a.clone().add(s);c.multiplyScalar(.5);var u=Math.atan2(s.x-a.x,s.y-a.y)+Math.PI/2,l=new THREE.Vector3(c.x+Math.cos(u),c.y+Math.sin(u),0).normalize(),d=i.flowHeightCoef||.3,p=a.distanceTo(s)*d,f=new h;f.setStartColor(n.startColor||16711680),f.setEndColor(n.endColor||255),f.setFlatVector(l),f.setLineWeight(i.flowLineWeight||3),f.setLightDotSize(i.flowDotSize||9),f.setLightDotSpeed(i.flowDotSpeed||void 0);for(var m=60,_=0;_<m;_++){var g=_/(m-1);f.addPoint(new THREE.Vector3(a.x+(s.x-a.x)*g,a.y+(s.y-a.y)*g,a.z+(s.z-a.z)*g+p*Math.sin(g*Math.PI)))}t.addObject(f),e._flows.push(f),f.appear()}})}}),e.exports=l},function(e,t,i){var n=i(1),o=n.InteractiveObject3D,r=n.CommonLib,a=r.forge,s=function(e,t){THREE.Sprite.call(this,e),this.interactive=!0,this._normalMaterial=e,this._normalMaterial.depthTest=!1,this._emphasisMaterial=t,this._emphasisMaterial.depthTest=!1};s.prototype=a(THREE.Sprite.prototype,o.prototype,{dispatcher:void 0,data:void 0,size:void 0,mouseOver:function(e){this.material=this._emphasisMaterial,this.dispatcher&&this.dispatcher.dispatchEvent({type:"markerItemMouseOver",mouseEvent:e,data:this.data})},mouseOut:function(){this.material=this._normalMaterial,this.dispatcher&&this.dispatcher.dispatchEvent({type:"markerItemMouseOut"})},click:function(e){this.dispatcher&&this.dispatcher.dispatchEvent({type:"markerItemClick",mouseEvent:e,data:this.data})},appear:function(e,t,i){"function"==typeof i&&i.call(this)},disappear:function(e,t,i){"function"==typeof i&&i.call(this)}}),e.exports=s},function(e,t,i){var n=i(1),o=n.InteractiveObject3D,r=n.CommonLib,a=r.forge,s=i(27),c=i(8),u=(2*Math.PI,Math.PI/180,function(){THREE.Object3D.call(this),this._flow=new s,this._flow.renderable=!1,this.addObject(this._flow),this._lightDot=new THREE.Sprite(new THREE.SpriteMaterial({map:c.createRadialTexture([16777215,16777215],[.8,0],[0,1]),transparent:!0})),this.addObject(this._lightDot),this._t=Math.random(),this._points=[],this._lightDotSpeed=.005+.01*Math.random(),this._lightDotSize=9,this.renderable=!0});u.prototype=a(THREE.Object3D.prototype,o.prototype,{constructor:u,_flow:void 0,_lightDot:void 0,_t:void 0,_points:void 0,addPoint:function(e){this._flow.addPoint(e),this._points.push(e)},setStartColor:function(e){this._flow.setStartColor(e)},setEndColor:function(e){this._flow.setEndColor(e)},setLineWeight:function(e){this._flow.setLineWeight(e)},setFlatVector:function(e){this._flow.setFlatVector(e)},_lightDotSize:void 0,setLightDotSize:function(e){this._lightDotSize=e;var t=e;this._lightDot.scale.set(t,t,t)},_lightDotSpeed:void 0,setLightDotSpeed:function(e){"number"==typeof e&&(this._lightDotSpeed=e)},appear:function(e,t,i){this._flow.appear(e,t,i?i.bind(this):void 0)},disappear:function(e,t,i){this._flow.disappear(e,t,i?i.bind(this):void 0)},render:function(){this._t+=this._lightDotSpeed,this._t>1&&(this._t-=1);var e=this._points.length-1,t=this._t,i=e*t,n=Math.floor(i),o=Math.ceil(i),r=this._points[n],a=this._points[o],s=1/(this._points.length-1),c=(t-n*s)/s,u=new THREE.Vector3(r.x+(a.x-r.x)*c,r.y+(a.y-r.y)*c,r.z+(a.z-r.z)*c);this._lightDot.position.copy(u),this._flow.render()}}),e.exports=u},function(e,t,i){var n=i(4),o=i(1),r=o.InteractiveObject3D,a=o.CommonLib,s=a.forge,c=a.UiComponent,u=2*Math.PI,h=function(){THREE.Mesh.call(this),this._points=[],this.geometry=new THREE.BufferGeometry,this.geometry.addAttribute("position",new THREE.Float32Attribute(0,3)),this.material=new THREE.ShaderMaterial({uniforms:{positive:{type:"b",value:!0},t:{type:"f",value:0},alpha:{type:"f",value:1},factor:{type:"f",value:Math.random()*u},flatSize:{type:"f",value:1},flatVector:{type:"v",value:new THREE.Vector3}},vertexShader:i(28),fragmentShader:i(29),depthWrite:!1,transparent:!0,side:THREE.DoubleSide}),this.renderable=!0};h.prototype=s(THREE.Mesh.prototype,c.prototype,r.prototype,{constructor:h,_invalidateGeometryFlag:!1,_invalidateMaterialFlag:!1,_points:null,addPoint:function(e){if(!(e instanceof THREE.Vector3))throw new Error("Illegal parameter.");this._points instanceof Array||(this._points=[]),this._points.push(e),this._invalidateGeometryFlag||(this._invalidateGeometryFlag=!0,this.invalidateProperties())},_startColor:16711680,setStartColor:function(e){this._startColor=e,this._invalidateGeometryFlag=!0,this.invalidateProperties()},_endColor:255,setEndColor:function(e){this._endColor=e,this._invalidateGeometryFlag=!0,this.invalidateProperties()},_lineWeight:1,setLineWeight:function(e){this._lineWeight=e,this._invalidateMaterialFlag=!0,this.invalidateProperties()},_flatVector:null,setFlatVector:function(e){this._flatVector=e,this._invalidateMaterialFlag=!0,this.invalidateProperties()},_calculateDefaultDuration:function(){var e=this._points[0].distanceTo(this._points[this._points.length-1]),t=99.96;return 1e3*Math.max(2*e/t,.35)},appear:function(e,t,i){var o=this;t=t||1e3,this.material.uniforms.positive.value=!0,this.material.uniforms.t.value=0,new n.Tween(this.material.uniforms.t).to({value:1},t).delay(e||0).onUpdate(function(){}).onComplete(function(){"function"==typeof i&&i.call(o)}).start()},disappear:function(e,t,i){var o=this;this.material.uniforms.positive.value=!1,this.material.uniforms.t.value=0,new n.Tween(this.material.uniforms.t).to({value:1},t||1e3).delay(e||0).onUpdate(function(){}).onComplete(function(){i instanceof Function&&i.call(o)}).start()},reset:function(){this._points=[],this._lineWeight=1,this._flatVector=null;var e=this.geometry;e.removeAttribute("position"),e.removeAttribute("index"),e.removeAttribute("point"),e.removeAttribute("i"),e.removeAttribute("color"),e.removeAttribute("offset"),e.removeAttribute("flatCoef")},_fabulous:function(){this.material.uniforms.factor.value-=.1},render:function(){this._fabulous()},commitProperties:function(){if(this._invalidateGeometryFlag){this._invalidateGeometryFlag=!1;for(var e=[],t=[],i=[],n=[],o=[],r=Math.random()*u,a=[],s=[],c=new THREE.Color(this._startColor),h=new THREE.Color(this._endColor),l=new THREE.Color,d=this._points.length,p=0;p<d;p++){var f=this._points[p];if(e.push(f),e.push(f),t.push(new THREE.Vector3),t.push(new THREE.Vector3),p>0){var m=p-1;i.push(2*m,2*p,2*p+1),i.push(2*m,2*m+1,2*p+1)}var _=p/(d-1);n.push(_),n.push(_),l.setRGB(c.r+(h.r-c.r)*_,c.g+(h.g-c.g)*_,c.b+(h.b-c.b)*_),o.push(l.clone()),o.push(l.clone()),a.push(r+u*_),a.push(r+u*_),s.push(1),s.push(-1)}var g=this.geometry;g.removeAttribute("position"),g.addAttribute("position",new THREE.Float32Attribute(3*t.length,3).copyVector3sArray(t)),g.removeAttribute("index"),g.setIndex(new THREE.Uint32Attribute(i.length,1).copyArray(i)),g.removeAttribute("point"),g.addAttribute("point",new THREE.Float32Attribute(3*e.length,3).copyVector3sArray(e)),g.removeAttribute("i"),g.addAttribute("i",new THREE.Float32Attribute(n.length,1).copyArray(n)),g.removeAttribute("color"),g.addAttribute("color",new THREE.Float32Attribute(3*o.length,3).copyColorsArray(o)),g.removeAttribute("offset"),g.addAttribute("offset",new THREE.Float32Attribute(a.length,1).copyArray(a)),g.removeAttribute("flatCoef"),g.addAttribute("flatCoef",new THREE.Float32Attribute(s.length,1).copyArray(s))}if(this._invalidateMaterialFlag){this._invalidateMaterialFlag=!1;var v=this.material;v.uniforms.flatSize.value=this._lineWeight/2,v.uniforms.flatVector.value=this._flatVector}}}),e.exports=h},function(e,t){e.exports="/*!\n * Jusfoun Threejs Shader Library v0.1\n * Powered by Jusfoun Visualization Department\n * Contact:\n *   vd@jusfoun.com\n *   http://vd.jusfoun.com\n *\n * Copyright (c) 2017, Jusfoun Big Data Group Inc.\n * All rights reserved.\n *\n * LICENSE\n * http://www.jusfoun.com/software/LICENSE.txt\n */\nuniform bool positive;\nuniform float t;\nuniform float factor;\nuniform float alpha;\nuniform float flatSize;\nuniform vec3 flatVector;\nattribute vec3 point;\nattribute float i;\nattribute float offset;\nattribute vec3 color;\nattribute float flatCoef;\nvarying vec3 vColor;\nvarying float vAlpha;\nvoid main() {\n    vAlpha = ((positive && i <= t) || (!positive && i >= t)) ? alpha : 0.0;\n    float coef2 = 0.5 + (cos(factor + offset) + 1.0) / 2.0 * 0.5;\n    vAlpha = vAlpha * coef2;\n    vColor = color;\n    float coef3 = 0.9 + (sin(factor / 3.0 + offset) + 1.0) / 2.0 * 0.1;\n    float coef4 = sin(i * 3.14);\n    vec3 mvPosition = point + flatVector * flatCoef * flatSize * coef3 * coef4;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(mvPosition, 1.0);\n}"},function(e,t){e.exports="/*!\n * Jusfoun Threejs Shader Library v0.1\n * Powered by Jusfoun Visualization Department\n * Contact:\n *   vd@jusfoun.com\n *   http://vd.jusfoun.com\n *\n * Copyright (c) 2017, Jusfoun Big Data Group Inc.\n * All rights reserved.\n *\n * LICENSE\n * http://www.jusfoun.com/software/LICENSE.txt\n */\nvarying vec3 vColor;\nvarying float vAlpha;\nvoid main() {\n    gl_FragColor = vec4(vColor, vAlpha);\n}"}])});